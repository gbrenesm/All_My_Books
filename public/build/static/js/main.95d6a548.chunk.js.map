{"version":3,"sources":["serviceWorker.js","services/auth.js","context.js","components/Layout.js","hooks/useInput.js","pages/Home.js","services/books.js","services/shelves.js","components/ShlevesUserHome.js","components/Loader.js","pages/UserHome.js","services/notes.js","services/quote.js","components/NewNote.js","components/NewQuote.js","components/Reference.js","components/ShelvesInBook.js","components/BookCardDetail.js","pages/BookDetail.js","pages/NewBook.js","components/UserShelvesConfig.js","pages/UserConfig.js","components/PrivateRoute.js","router.js","index.js"],"names":["Boolean","window","location","hostname","match","service","axios","create","baseURL","withCredentials","signup","user","a","post","login","userData","data","getCurrentUser","get","updateUser","put","logout","Context","createContext","CtxProvider","children","useState","setUser","userUpdate","setUserUpdate","useEffect","userdata","Provider","value","ctxUser","loginUser","clearctxUser","Layout","useContext","history","useHistory","logoutClick","push","src","alt","to","className","profilePhoto","icon","faAngleDown","onClick","useInput","initialValue","setValue","onChange","e","target","Home","usernameInput","emailInput","passwordInput","signupForm","setsignupForm","preventDefault","username","email","password","console","dir","response","message","swal","title","text","type","changeLogin","onSubmit","required","name","id","href","faGoogle","faFacebookF","createBook","bookData","getAllUsersBooks","books","getAllUserBooksAuthor","getBookDetail","bookId","book","updateBook","deleteBook","delete","createShelf","shelfData","getOneShelf","shelfId","shelf","getUserShelves","shelves","addBookShelf","removeBookShelf","deleteShelf","ShlevesUserHome","setNewShlef","fetchAllBooks","setBooks","nameInput","showNewShelf","setShowNewShelf","booksByShelf","showForm","faPlus","faBook","map","i","key","fetchBookByShelf","_id","Loader","UserHome","setShelves","searchOn","setSearchOn","newShlef","searchInput","activeBtn","setActiveBtn","userbooks","submitSearch","filter","toLowerCase","includes","authorFirstName","authorLastName","faChevronLeft","placeholder","faSearch","style","backgroundColor","color","cover","coAuthorFirstName","coAuthorLastName","createNote","noteData","deleteNote","noteId","createQuote","quoteData","deleteQuote","quoteId","NewNote","bookIdToUse","setNewNote","descriptionInput","chapterInput","pagesInput","showFrom","setShowFrom","description","chapter","pages","changeForm","faFeatherAlt","autofocus","NewQuote","setNewQuote","noteInput","note","Reference","referenceAPA","setReferenceAPA","referenceMLA","setReferenceMLA","referenceChicago","setReferenceChicago","referenceUNEISO","setReferenceUNEISO","for","charAt","published","slice","publisher","navigator","clipboard","writeText","faCopy","publishPlace","toUpperCase","ISBN","ShelvesInBook","setNewShelf","nameIpunt","showAddShelf","setShowAddShelf","allUserShelves","setAllUserShelves","formatAddShelf","userShelves","fetchUsersShelves","removeBook","faTrash","selected","BookCardDetail","setUpdateBook","bookShelves","setShowForm","titleInput","authorFirstNameInput","authorLastNameInput","coAuthorFirstNameInput","coAuthorLastNameInput","publisherInput","publishedInput","editionInput","edition","ISBNInput","publishPlaceInput","formatInput","coverURL","setCoverURL","coauthor","setcoauthor","editForm","files","FormData","append","secure_url","format","faEdit","buttons","then","faTrashAlt","BookDetail","params","setBook","notes","setNotes","quotes","setQuotes","references","setReferences","allNotes","setAllNotes","allQuotes","setAllQuotes","allShelves","setAllShelves","newNote","newQuote","newShelf","detailbook","bookshelves","fetchBook","faBookmark","faQuoteLeft","faFileAlt","eliminateNote","quote","eliminateQuote","NewBook","imageURL","setImageURL","log","autoFocus","disabled","faBookOpen","UserShelvesConfig","shelfDeleted","setShelfDeleted","shlevesData","fetchShelves","shelfID","cancel","visible","confirm","UserConfig","photoURL","setPhotoURL","PrivateRoute","Component","component","rest","render","props","Router","path","exact","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.95d6a548.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import axios from \"axios\"\n\nconst baseURL = process.env.NODE_ENV === `production`? `/auth` : \"http://localhost:3000/auth\"\n\nconst service = axios.create({ baseURL, withCredentials: true })\n\nexport const signup = async user => {\n  await service.post(\"/signup\", user)\n  return true\n}\n\nexport const login = async userData => {\n  const { data: user } = await service.post(\"/login\", userData)\n  return user\n}\n\nexport const getCurrentUser = async () => {\n  const { data: user } = await service.get(\"/currentuser\")\n  return user\n}\n\nexport const updateUser = async userData => {\n  const { data: user } = await service.put(\"/updateuser\", userData)\n  return user\n}\n\nexport const logout = async () => {\n  await service.get(\"/logout\")\n}\n","import React, { createContext, useState, useEffect } from \"react\"\nimport { getCurrentUser } from \"./services/auth\"\n\nexport const Context = createContext()\n\nexport default function CtxProvider({ children }){\n  const [user, setUser] = useState(null)\n  const [userUpdate, setUserUpdate] = useState(false)\n\n  useEffect(() => {\n    async function userdata() {\n      const { user } = await getCurrentUser()\n      setUser(user)\n    }\n    userdata()\n    setUserUpdate(false)\n  },[userUpdate])\n\n  const ctxUser = loginUser => setUser(loginUser)\n  const clearctxUser = () => setUser(null)\n\n  return (\n    <Context.Provider value={{\n      user,\n      ctxUser,\n      clearctxUser,\n      setUserUpdate\n    }}>\n      {children}\n    </Context.Provider>\n  )\n}","import React, { useContext } from 'react'\nimport { Context } from \"../context\"\nimport { Link } from \"react-router-dom\"\nimport { logout } from \"../services/auth\"\nimport { useHistory } from \"react-router-dom\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faAngleDown } from \"@fortawesome/free-solid-svg-icons\"\n\nfunction Layout({ children }) {\n  const { user, clearctxUser} = useContext(Context)\n  \n  const history = useHistory()\n\n  const logoutClick = async () =>{\n    await logout()\n    clearctxUser()\n    history.push(\"/\")\n  }\n\n\n  return (\n    <div>\n      <nav>\n        <div>\n          <p><img src=\"https://res.cloudinary.com/dxncdwsau/image/upload/v1600963193/All_My_Books/%C3%8Dcono_de_libros_blanco_hajncl.png\" alt=\"Books icon\"/>&nbsp; <Link to=\"/userhome\">All My Books</Link></p>\n        </div>\n        <div>\n          <ul>\n          <li><Link to=\"/newbook\">Agregar libro</Link></li>\n            <li className=\"navicon\"><img src={user?.profilePhoto} alt=\"User\"/>&nbsp;<FontAwesomeIcon icon={faAngleDown}/>\n              <ul>\n                <li><Link to=\"/userconfig\">Configuración</Link></li>\n                <li onClick={logoutClick}><Link>Cerrar sesión</Link></li>\n              </ul>\n            </li>\n          </ul>\n        </div>\n      </nav>\n      <main>\n        {children}\n      </main>\n    </div>\n  )\n}\n\nexport default Layout\n","import { useState } from \"react\"\n\nexport default function useInput(initialValue){\n  const [value, setValue] = useState(initialValue)\n\n  function onChange(e){\n    setValue(e.target.value)\n  }\n\n  return{\n    value,\n    onChange\n  }\n}","import React, { useState, useContext } from \"react\"\nimport { Context } from \"../context\"\nimport useInput from \"../hooks/useInput\"\nimport { signup, login } from \"../services/auth\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faGoogle, faFacebookF } from \"@fortawesome/free-brands-svg-icons\"\nimport swal from \"sweetalert\"\n\nlet baseURL\n\nprocess.env.NODE_ENV === \"production\"\n? (baseURL = \"https://allmybooksmex.herokuapp.com\")\n: (baseURL = \"http://localhost:3000\")\n\n\nfunction Home ({ history }) {\n  const { ctxUser } = useContext(Context)\n  const usernameInput = useInput(\"\")\n  const emailInput = useInput(\"\")\n  const passwordInput = useInput(\"\")\n  const [signupForm, setsignupForm] = useState(true)\n\n\n\n  async function submitFormSignup(e){\n    e.preventDefault()\n    const username = usernameInput.value\n    const email = emailInput.value\n    const password = passwordInput.value\n    try {\n      await signup({username, email, password})\n      setsignupForm(false)\n    } catch (error) {\n      console.dir(error.response.data.message)\n      swal({\n        title: \"Vuelve a intentar\",\n        text: error.response.data.message,\n        type: \"error\",\n        className: \"alert\"\n      })\n    }\n}\n\n  async function submitFormLogin(e){\n    e.preventDefault()\n    const email = emailInput.value\n    const password = passwordInput.value\n    try {\n      const user = await login({email, password})\n      ctxUser(user)\n      history.push(\"/userhome\")\n    } catch (error) {\n      console.dir(error.response.data.message)\n      swal({\n        title: \"Vuelve a intentar\",\n        text: error.response.data.message, \n        type: \"error\",\n        className: \"alert\"\n      })\n    }\n  }\n  \n\n  function changeLogin(){\n    if (signupForm) setsignupForm(false)\n    else setsignupForm(true)\n  }\n\n\n  return(\n    <div className=\"homepage\">\n      <div>\n        <h1>All My Books</h1>\n        <h2>El lugar para ordenar todos tus libros</h2>\n        <img src=\"https://res.cloudinary.com/dxncdwsau/image/upload/v1600883938/All_My_Books/Book_shelf_warm_colors_omdjq1.jpg\" alt=\"Bookshelf by colors\"/>\n      </div>\n      {signupForm && \n      <div>\n        <h2>Crea una cuenta</h2>\n          <form onSubmit={submitFormSignup}>\n            <label>Nombre de usuario: </label>\n            <br/>\n            <input required type=\"text\" name=\"username\" id=\"username\" {...usernameInput}/>\n            <br/>\n            <label>Email:</label>\n            <br/>\n            <input required type=\"text\" name=\"email\" id=\"email\" {...emailInput}/>\n            <br/>\n            <label>Contraseña:</label>\n            <br/>\n            <input required type=\"password\" name=\"password\" id=\"password\" {...passwordInput}/>\n            <br/>\n            <button type=\"submit\">Crea tu cuenta</button>\n          </form>\n          <div>\n            <a href={`${baseURL}/auth/google`}><FontAwesomeIcon icon={faGoogle} /> &nbsp;Google</a>\n            <a href={`${baseURL}/auth/facebook`}><FontAwesomeIcon icon={faFacebookF} />&nbsp;Facebook</a>\n          </div>\n          <hr/>\n          <div className=\"signupbtn\">\n            <p>¿Ya tienes cuenta?</p> <button onClick={changeLogin}>Inicia sesión</button>\n          </div>\n      </div>}\n      {!signupForm && \n      <div>\n        <h2>Inicia sesión</h2>\n          <form onSubmit={submitFormLogin}>\n            <label>Email</label>\n            <input required type=\"text\" name=\"email\" id=\"email\" {...emailInput}/>\n            <label>Contraseña</label>\n            <input required type=\"password\" name=\"password\" id=\"password\" {...passwordInput}/>\n            <button type=\"submit\">Inicia sesión</button>\n\n          </form>\n          <div>\n            <a href={`${baseURL}/auth/google`}><FontAwesomeIcon icon={faGoogle} /> &nbsp;Google</a>\n            <a href={`${baseURL}/auth/facebook`}><FontAwesomeIcon icon={faFacebookF} />&nbsp;Facebook</a>\n          </div>\n          <hr/>\n          <div>\n            <button onClick={changeLogin}>Crea una cuenta</button>\n          </div>\n      </div>}\n    </div>\n  )\n}\n\nexport default Home","import axios from \"axios\"\n\nconst baseURL = process.env.NODE_ENV === `production`? `/api` : \"http://localhost:3000/api\"\nconst service = axios.create({ baseURL, withCredentials: true })\n\nexport const createBook = async bookData => {\n  await service.post(\"/newbook\", bookData)\n  return true\n}\n\nexport const getAllUsersBooks = async () => {\n  const { data: books } = await service.get(`/userbooks`)\n  return books\n}\n\nexport const getAllUserBooksAuthor = async () =>{\n  const { data: books } = await service.get(`/userbooksauthor`)\n  return books\n}\n\nexport const getBookDetail = async bookId => {\n  const { data: book } = await service.get(`/detailbook/${bookId}`)\n  return book\n}\n\nexport const updateBook = async (bookId, bookData) => {\n  const { data: book } = await service.put(`/updatebook/${bookId}`, bookData)\n  return book\n}\n\nexport const deleteBook = async bookId => {\n  await service.delete(`/deletebook/${bookId}`)\n}","import axios from \"axios\"\n\nconst baseURL = process.env.NODE_ENV === `production`? `/api` : \"http://localhost:3000/api\"\nconst service = axios.create({ baseURL, withCredentials: true })\n\nexport const createShelf = async shelfData => {\n  await service.post(\"/shelfnew\", shelfData)\n}\n\n\nexport const getOneShelf = async shelfId => {\n  const { data: shelf } = await service.get(`/booksshlef/${shelfId}`)\n  return shelf\n}\n\nexport const getUserShelves = async () => {\n  const { data: shelves } = await service.get(`usershelves`)\n  return shelves\n}\n\nexport const addBookShelf = async (bookId, shelfData) => {\n  const { data: shelf } = await service.put(`addbook/${bookId}`, shelfData)\n  return shelf\n}\n\nexport const removeBookShelf = async (bookId, shelfId) => {\n  await service.put(`removebook/${bookId}`, shelfId)\n}\n\nexport const deleteShelf = async shelfId => {\n  await service.delete(`shelfdelete/${shelfId}`)\n}","import React, {useState} from 'react'\nimport { createShelf, getOneShelf } from \"../services/shelves\"\nimport useInput from \"../hooks/useInput\"\nimport { Link } from \"react-router-dom\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faBook, faPlus } from \"@fortawesome/free-solid-svg-icons\"\n\n\nfunction ShlevesUserHome({shelves, setNewShlef, fetchAllBooks, setBooks}) {\n  const nameInput = useInput(\"\")\n  const [showNewShelf, setShowNewShelf] = useState(false)\n\n  async function fetchBookByShelf(shelfId){\n    const booksByShelf = await getOneShelf(shelfId)\n    setBooks(booksByShelf.books.books)\n  }\n\n  async function submitShelvesForm(e){\n    e.preventDefault()\n    await createShelf({\n      name: nameInput.value\n    })\n    setShowNewShelf(false)\n    setNewShlef(true)\n  }\n\n  function showForm(){\n    if (showNewShelf) setShowNewShelf(false)\n    else setShowNewShelf(true)\n  }\n\n  return (\n    <div>\n      <h2>Estantes</h2>\n          {!showNewShelf && <button onClick={showForm}><FontAwesomeIcon icon={faPlus}/>&nbsp;&nbsp;Crear nuevo estante</button>}\n          {showNewShelf && \n            <form onSubmit={submitShelvesForm}>\n              <label><b>Nombre del estante: </b></label>\n              <input required type=\"text\" name=\"name\" id=\"name\" {...nameInput}/>\n              <button type=\"submit\">Crear estante</button>\n              <button onClick={showForm}>Cancelar</button>\n            </form>}\n        <ul>\n          <li><Link onClick={fetchAllBooks}><FontAwesomeIcon icon={faBook}/>&nbsp;&nbsp;Todos tus libros</Link></li>\n          {shelves?.map((shelf, i) => (\n          <li key={i}><Link onClick={() => fetchBookByShelf(shelf._id)}><FontAwesomeIcon icon={faBook}/>&nbsp;&nbsp;{shelf.name}</Link></li>\n          ))}\n        </ul>\n    </div>\n  )\n}\n\nexport default ShlevesUserHome\n","import React from 'react'\n\nfunction Loader() {\n  return (\n    <div className=\"loader\">\n      <span></span>\n      <span></span>\n      <span></span>\n    </div>\n  )\n}\n\nexport default Loader\n","import React, { useState, useEffect } from 'react'\nimport { Link } from \"react-router-dom\"\nimport { getAllUsersBooks, getAllUserBooksAuthor } from \"../services/books\"\nimport ShelvesUserHomes from \"../components/ShlevesUserHome\"\nimport useInput from \"../hooks/useInput\"\nimport Loader from \"../components/Loader\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport {faSearch, faChevronLeft } from \"@fortawesome/free-solid-svg-icons\"\n\nfunction UserHome() {\n  const [books, setBooks] = useState(null)\n  const [shelves, setShelves] = useState(null)\n  const [searchOn, setSearchOn] = useState(false)\n  const [newShlef, setNewShlef] = useState(false)\n  const searchInput = useInput(\"\")\n  const [activeBtn, setActiveBtn] = useState(true)\n\n\n  async function fetchAllBooks() {\n    const userbooks = await getAllUsersBooks()\n    setBooks(userbooks.user.books)\n    setShelves(userbooks.user.shelves)\n    setSearchOn(false)\n    setActiveBtn(true)\n  }\n\n  async function fetchBooksByAuthor(){\n    const userbooks = await getAllUserBooksAuthor()\n    setBooks(userbooks.user.books)\n    setActiveBtn(false)\n  }\n\n  function submitSearch(e){\n    e.preventDefault()\n    setSearchOn(true)\n    setBooks(books.filter(book => book.title.toLowerCase().includes(searchInput.value.toLowerCase()) ||\n                                  book.authorFirstName.toLowerCase().includes(searchInput.value.toLowerCase()) ||\n                                  book.authorLastName.toLowerCase().includes(searchInput.value.toLowerCase())))\n    if (searchInput.value === \"\") fetchAllBooks()\n  }\n\n  useEffect(() => {\n    fetchAllBooks()\n    setNewShlef(false)\n  }, [newShlef])\n\n\n  return (\n    <div className=\"userhome\">\n        <ShelvesUserHomes shelves={shelves} setNewShlef={setNewShlef} fetchAllBooks={fetchAllBooks} setBooks={setBooks}/>\n      <div>\n        <form onChange={submitSearch} onSubmit={submitSearch} className=\"search\">\n        <button onClick={fetchAllBooks} className=\"returnBtutton\"><FontAwesomeIcon icon={faChevronLeft}/></button>\n        <input type=\"text\" className=\"searchTerm\" placeholder=\"Busca por autor(a) o título\" {...searchInput}/>\n        <button className=\"searchButton\"><FontAwesomeIcon icon={faSearch}/></button>\n        </form>\n        <div>\n        {!searchOn &&\n          <>\n          <button style={activeBtn? {backgroundColor: \"#588157\"} : {backgroundColor: \"#e5e5e5\", color: \"#343a40\"}} className=\"sortButton\" onClick={fetchAllBooks}>Ver por título</button>\n          <button style={!activeBtn? {backgroundColor: \"#588157\"} : {backgroundColor: \"#e5e5e5\", color: \"#343a40\"}} className=\"sortButton\" onClick={fetchBooksByAuthor}>Ver por autor(a)</button>\n          </>}\n        </div>\n        <div>\n          {books? books.map((book, i)=> (\n            <div key={i} className=\"bookcard\">\n              <img src={book.cover} alt=\"Book cover\"/>\n              <div>\n                <h4>{book.title}</h4>\n                <p>{book.authorFirstName} {book.authorLastName}</p>\n                <p>{book.coAuthorFirstName} {book.coAuthorLastName}</p>\n              </div>\n              <div>\n                <button><Link to={`/detailbook/${book._id}`}>Detalles</Link></button>\n              </div>\n            </div>\n          )) \n          : <Loader></Loader>}\n          {books === [] && <p>Aún no tienes libros</p>}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UserHome\n","import axios from \"axios\"\n\nconst baseURL = process.env.NODE_ENV === `production`? `/api` : \"http://localhost:3000/api\"\nconst service = axios.create({ baseURL, withCredentials: true })\n\nexport const createNote = async (bookId, noteData) => {\n  await service.post(`/note/${bookId}`, noteData)\n  return true\n}\n\nexport const updateNote = async noteData => {\n  const { data: note } = await service.put(\"\", noteData)\n  return note\n}\n\nexport const deleteNote = async noteId => {\n  await service.delete(`/notedelete/${noteId}`)\n}","import axios from \"axios\"\n\nconst baseURL = process.env.NODE_ENV === `production`? `/api` : \"http://localhost:3000/api\"\nconst service = axios.create({ baseURL, withCredentials: true })\n\nexport const createQuote = async (bookId, quoteData) => {\n  await service.post(`/quote/${bookId}`, quoteData)\n  return true\n}\n\nexport const updateQuote = async quoteData => {\n  const { data: quote } = await service.put(\"\", quoteData)\n  return quote\n}\n\nexport const deleteQuote = async quoteId => {\n  await service.delete(`/quotedelete/${quoteId}`)\n}","import React, { useState } from 'react'\nimport useInput from \"../hooks/useInput\"\nimport { createNote } from \"../services/notes\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faFeatherAlt } from \"@fortawesome/free-solid-svg-icons\"\n\n\nfunction NewNote({bookIdToUse, setNewNote}) {\n  const descriptionInput = useInput(\"\")\n  const chapterInput = useInput(\"\")\n  const pagesInput = useInput(\"\")\n  const [showFrom, setShowFrom] = useState(false)\n\n  async function submitForm(e){\n    e.preventDefault()\n    await createNote(bookIdToUse, {\n      description: descriptionInput.value,\n      chapter: chapterInput.value,\n      pages: pagesInput.value\n    })\n    setShowFrom(false)\n    setNewNote(true)\n  }\n\n  function changeForm(){\n    if (!showFrom) setShowFrom(true)\n    else setShowFrom(false)\n  }\n\n  return (\n    <div className=\"newnoteformat\">\n      {!showFrom && <button onClick={changeForm}><FontAwesomeIcon icon={faFeatherAlt}/> Agregar nueva nota</button>}\n      {showFrom && \n        <form onSubmit={submitForm}>\n          <label>Descripción:</label>\n          <textarea required autofocus type=\"text\" name=\"description\" id=\"description\" placeholder=\"Escribe aquí todo lo que quiras guardar sobre el libro...\" {...descriptionInput}></textarea>\n          <div>\n            <div>\n              <label>Capítulo relacionado:&nbsp;</label>\n              <input type=\"text\" name=\"chapter\" id=\"chapter\" placeholder=\"Ejs. Capítulo 1, cap I, Prefacio\" {...chapterInput}></input>\n            </div>\n            <div>\n              <label>Páginas:&nbsp;</label>\n              <input type=\"text\" name=\"pages\" id=\"pages\" placeholder=\"Ejs. 2-4, 7 y 15\"{...pagesInput}></input> \n            </div>\n          </div>\n          <div>\n            <button type=\"submit\"> Crear nota</button>\n            <button onClick={changeForm}>Cancelar</button>\n          </div>\n        </form>\n      }\n    </div>\n  )\n}\n\nexport default NewNote\n","import React, { useState } from 'react'\nimport useInput from \"../hooks/useInput\"\nimport { createQuote } from \"../services/quote\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faFeatherAlt } from \"@fortawesome/free-solid-svg-icons\"\n\n\nfunction NewQuote({bookIdToUse, setNewQuote}) {\n  const descriptionInput = useInput(\"\")\n  const noteInput = useInput(\"\")\n  const pagesInput = useInput(\"\")\n  const [showFrom, setShowFrom] = useState(false)\n\n  async function submitForm(e){\n    e.preventDefault()\n    await createQuote(bookIdToUse, {\n      description: descriptionInput.value,\n      note: noteInput.value,\n      pages: pagesInput.value\n    })\n    setShowFrom(false)\n    setNewQuote(true)\n  }\n\n  function changeForm(){\n    if (!showFrom) setShowFrom(true)\n    else setShowFrom(false)\n  }\n\n  return (\n    <div className=\"newnoteformat\">\n      {!showFrom && <button onClick={changeForm}><FontAwesomeIcon icon={faFeatherAlt}/>Agrega una nueva cita</button>}\n      {showFrom && \n        <form className=\"newquote\" onSubmit={submitForm}>\n          <label>Cita textual:</label>\n          <textarea required type=\"text\" name=\"description\" id=\"description\" placeholder=\"Escribe aquí la cita que quieras guardar, no es necesario ponerla entre comillas\" {...descriptionInput}></textarea>\n          <label>Nota:</label>\n          <textarea type=\"text\" name=\"note\" id=\"note\" placeholder=\"¿Algún pensamiento relacionada a la cita?\" {...noteInput}></textarea>\n          <label>Páginas:</label>\n          <input type=\"text\" name=\"pages\" id=\"pages\" placeholder=\"Ejs. 2-4, 7 y 15\" {...pagesInput}></input>\n          <div className=\"newquote\">\n            <button type=\"submit\"> Crear cita</button>\n            <button onClick={changeForm}>Cancelar</button>\n          </div>\n        </form>\n      }\n    </div>\n  )\n}\n\nexport default NewQuote\n","import React, { useState } from 'react'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faCopy } from \"@fortawesome/free-solid-svg-icons\"\n\n\nfunction Reference({ bookData }) {\n  const [referenceAPA, setReferenceAPA] = useState(false)\n  const [referenceMLA, setReferenceMLA] = useState(false)\n  const [referenceChicago, setReferenceChicago] = useState(false)\n  const [referenceUNEISO, setReferenceUNEISO] = useState(false)\n\n  function showAPA() {\n    setReferenceAPA(true)\n    setReferenceMLA(false)\n    setReferenceChicago(false)\n    setReferenceUNEISO(false)\n  }\n\n  function showMLA() {\n    setReferenceAPA(false)\n    setReferenceMLA(true)\n    setReferenceChicago(false)\n    setReferenceUNEISO(false)\n  }\n\n  function showChicago() {\n    setReferenceAPA(false)\n    setReferenceMLA(false)\n    setReferenceChicago(true)\n    setReferenceUNEISO(false)\n  }\n\n  function showUNEISO() {\n    setReferenceAPA(false)\n    setReferenceMLA(false)\n    setReferenceChicago(false)\n    setReferenceUNEISO(true)\n  }\n\n\n  return (\n    <div>\n      <p>Selecciona un formato de referencias: </p>\n      <div>\n        <input type=\"radio\" name=\"reference\" value=\"apa\" onChange={showAPA} />\n        <label for=\"apa\">APA</label>\n        <input type=\"radio\" name=\"reference\" value=\"mla\" onChange={showMLA} />\n        <label for=\"mla\">MLA</label>\n        <input type=\"radio\" name=\"reference\" value=\"chicago\" onChange={showChicago} />\n        <label for=\"chicago\">Chicago</label>\n        <input type=\"radio\" name=\"reference\" value=\"UNE-ISO 690 \" onChange={showUNEISO} />\n        <label for=\"UNE-ISO 690\">UNE-ISO 690 </label>\n      </div>\n      <div className=\"notes\">\n        {referenceAPA && <p>{bookData.authorLastName ? bookData.authorLastName : \"Apellido\"}, {bookData.authorFirstName ? bookData.authorFirstName.charAt(0) : \"Iniciales\"}.{bookData.coAuthorLastName ? `, y ${bookData.coAuthorLastName}` : \"\"}{bookData.coAuthorFirstName ? `, ${bookData.coAuthorFirstName.charAt(0)}.` : \"\"} ({bookData.published ? bookData.published.slice(0, 4) : \"Año de publicación\"}). <em>{bookData.title}</em>. {bookData.publisher === [] ? \"Editorial\" : bookData.publisher}</p>}\n        {referenceAPA && <button onClick={() =>  navigator.clipboard.writeText(`${bookData.authorLastName ? bookData.authorLastName : \"Apellido\"}, ${bookData.authorFirstName ? bookData.authorFirstName.charAt(0) : \"Iniciales\"}.${bookData.coAuthorLastName ? `, y ${bookData.coAuthorLastName}` : \"\"}${bookData.coAuthorFirstName ? `, ${bookData.coAuthorFirstName.charAt(0)}.` : \"\"} (${bookData.published ? bookData.published.slice(0, 4) : \"Año de publicación\"}). ${bookData.title}. ${bookData.publisher === [] ? \"Editorial\" : bookData.publisher}`)}><FontAwesomeIcon icon={faCopy}/>&nbsp;&nbsp;Copiar referencia</button>}\n        \n        {referenceMLA && <p>{bookData.authorLastName ? bookData.authorLastName : \"Apellido\"}, {bookData.authorFirstName ? bookData.authorFirstName : \"Nombre\"}{bookData.coAuthorLastName ? `, et al`: \"\"}. <em>{bookData.title}</em>. {bookData.publishPlace ? bookData.publishPlace : \"Lugar de publicación\"}: {bookData.publisher === [] ? \"Editorial\" : bookData.publisher}, {bookData.published ? bookData.published.slice(0, 4) : \"Año de publicación\"}. </p>}\n        {referenceMLA && <button onClick={() => navigator.clipboard.writeText(`${bookData.authorLastName ? bookData.authorLastName : \"Apellido\"}, ${bookData.authorFirstName ? bookData.authorFirstName : \"Nombre\"}${bookData.coAuthorLastName ? `, et al`: \"\"}. ${bookData.title}. ${bookData.publishPlace ? bookData.publishPlace : \"Lugar de publicación\"}: ${bookData.publisher === [] ? \"Editorial\" : bookData.publisher}, ${bookData.published ? bookData.published.slice(0, 4) : \"Año de publicación\"}.`)}><FontAwesomeIcon icon={faCopy}/>&nbsp;&nbsp;Copiar referencia</button>}\n        \n        {referenceChicago && <p>{bookData.authorLastName ? bookData.authorLastName : \"Apellido\"}, {bookData.authorFirstName ? bookData.authorFirstName : \"Nombre\"}{bookData.coAuthorFirstName ? `, and ${bookData.coAuthorFirstName}`: \"\"}{bookData.coAuthorLastName ? `${bookData.coAuthorLastName}`: \"\"}. <em>{bookData.title}</em>. {bookData.publishPlace ? bookData.publishPlace : \"Lugar de publicación\"}: {bookData.publisher === [] ? \"Editorial\" : bookData.publisher}, {bookData.published ? bookData.published.slice(0, 4) : \"Año de publicación\"}. </p>}\n        {referenceChicago && <button onClick={() => navigator.clipboard.writeText(`${bookData.authorLastName ? bookData.authorLastName : \"Apellido\"}, ${bookData.authorFirstName ? bookData.authorFirstName : \"Nombre\"}${bookData.coAuthorFirstName ? `, and ${bookData.coAuthorFirstName}`: \"\"}${bookData.coAuthorLastName ? `${bookData.coAuthorLastName}`: \"\"}. ${bookData.title}. ${bookData.publishPlace ? bookData.publishPlace : \"Lugar de publicación\"}: ${bookData.publisher === [] ? \"Editorial\" : bookData.publisher}, ${bookData.published ? bookData.published.slice(0, 4) : \"Año de publicación\"}`)}><FontAwesomeIcon icon={faCopy}/>&nbsp;&nbsp;Copiar referencia</button>}\n        \n        {referenceUNEISO && <p>{bookData.authorLastName ? bookData.authorLastName.toUpperCase() : \"Apellido\"}, {bookData.authorFirstName ? bookData.authorFirstName : \"Nombre\"} {bookData.coAuthorLastName ? `y ${bookData.coAuthorLastName}` : \"\"}{bookData.coAuthorFirstName ? `, ${bookData.coAuthorFirstName.charAt(0)}`: \"\"}. <em>{bookData.title}.</em> {bookData.publishPlace ? bookData.publishPlace : \"Lugar de publicación\"}: {bookData.publisher === [] ? \"Editorial\" : bookData.publisher}, {bookData.published ? bookData.published.slice(0, 4) : \"Año de publicación\"}. ISBN: {bookData.ISBN ? bookData.ISBN : \"ISBN\"}</p>}\n        {referenceUNEISO && <button onClick={() => navigator.clipboard.writeText(`${bookData.authorLastName ? bookData.authorLastName.toUpperCase() : \"Apellido\"}, ${bookData.authorFirstName ? bookData.authorFirstName : \"Nombre\"} ${bookData.coAuthorLastName ? `y ${bookData.coAuthorLastName}` : \"\"}${bookData.coAuthorFirstName ? `, ${bookData.coAuthorFirstName.charAt(0)}`: \"\"}. ${bookData.title}. ${bookData.publishPlace ? bookData.publishPlace : \"Lugar de publicación\"}: ${bookData.publisher === [] ? \"Editorial\" : bookData.publisher}, ${bookData.published ? bookData.published.slice(0, 4) : \"Año de publicación\"}. ISBN: ${bookData.ISBN ? bookData.ISBN : \"ISBN\"}`)}><FontAwesomeIcon icon={faCopy}/>&nbsp;&nbsp;Copiar referencia</button>}\n      </div>\n    </div>\n  )\n}\n\nexport default Reference\n","import React, { useState, useEffect } from 'react'\nimport { addBookShelf, getUserShelves, removeBookShelf } from \"../services/shelves\"\nimport useInput from \"../hooks/useInput\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\"\n\n\n\nfunction ShelvesInBook({shelves, bookId, setNewShelf}) {\n  const nameIpunt = useInput(\"\")\n  const [showAddShelf, setShowAddShelf] = useState(false)\n  const [allUserShelves, setAllUserShelves] = useState(null)\n\n  function formatAddShelf(){\n    if (!showAddShelf) setShowAddShelf(true)\n    else setShowAddShelf(false)\n  }\n\n  async function fetchUsersShelves(){\n    const userShelves = await getUserShelves()\n    setAllUserShelves(userShelves.shelves.shelves)\n  }\n\n  async function removeBook(shelfId){\n    await removeBookShelf(bookId, {\n      shelfId\n    })\n    setNewShelf(true)\n  }\n\n  async function submitForm(e){\n    e.preventDefault()\n    await addBookShelf(bookId, {\n      shelfId: nameIpunt.value\n    })\n    setShowAddShelf(false)\n    setNewShelf(true)\n  }\n\n  useEffect(() => {\n    fetchUsersShelves()\n  }, [])\n\n  return (\n    <div className=\"bookshelves\">\n      <p><b>Estantes:</b></p>\n      <div>\n        {shelves?.map((e, i)=>(\n          <div>\n            <p key={i}>{e.name}</p>\n            <button onClick={() => removeBook(e._id)}><FontAwesomeIcon icon={faTrash}/>&nbsp;Quitar</button>\n          </div>\n        ))}\n      </div>\n      {!showAddShelf && <button onClick={formatAddShelf}> <FontAwesomeIcon icon={faPlus}/>&nbsp;&nbsp; Añade el libro a un estante</button>}\n      {showAddShelf && \n        <form onSubmit={submitForm}>\n          <select required name=\"shelf\" {...nameIpunt}>\n            <option value=\"\" selected>Selecciona un estante</option>\n            {allUserShelves?.map((e, i) => (\n              <option value={e._id}> {e.name}</option>\n            ))}\n          </select>\n          <button type=\"submit\">Añade libro</button>\n          <button className=\"cancel\" onClick={formatAddShelf}>Cancelar</button>\n        </form>}\n    </div>\n  )\n}\n\nexport default ShelvesInBook\n","import React, {useState} from 'react'\nimport { Link, useHistory } from \"react-router-dom\"\nimport { deleteBook, updateBook } from \"../services/books\"\nimport ShelvesInBook from \"./ShelvesInBook\"\nimport axios from \"axios\"\nimport useInput from \"../hooks/useInput\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport {faEdit, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\"\nimport swal from \"@sweetalert/with-react\"\n\nfunction BookCardDetail({book, setUpdateBook, bookShelves, bookId, setNewShelf}) {\n  const [showForm, setShowForm] = useState(false)\n  const history = useHistory()\n  const titleInput = useInput(book.title)\n  const authorFirstNameInput = useInput(book.authorFirstName)\n  const authorLastNameInput = useInput(book.authorLastName)\n  const coAuthorFirstNameInput = useInput(book.coAuthorFirstName)\n  const coAuthorLastNameInput = useInput(book.coAuthorLastName)\n  const publisherInput = useInput(book.publisher)\n  const publishedInput = useInput(book.published?.slice(0,4))\n  const editionInput = useInput(book.edition)\n  const ISBNInput = useInput(book.ISBN)\n  const publishPlaceInput = useInput(book.publishPlace)\n  const pagesInput = useInput(book.pages)\n  const formatInput = useInput(\"\")\n  const descriptionInput = useInput(book.description)\n  const [coverURL, setCoverURL] = useState(book.cover)\n  const [coauthor, setcoauthor] = useState(false)\n\n\n  function eliminateBook(){\n    swal({\n      title:\"Eliminar\",\n      text: \"¿Estás seguro(a) de que quieres eliminar el libro?\",\n      buttons: [\"Cancelar\", \"Eliminar\"],\n    }).then(response => {\n      if (response){\n        deleteBook(book._id)\n        history.push(\"/userhome\")\n      }\n    })\n  }\n\n// async function eliminateBook(){\n//   await deleteBook(book._id)\n//   history.push(\"/userhome\")\n// }\n\n  function editForm(){\n    if (book.coAuthorLastName) setcoauthor(true)\n    if (!showForm) setShowForm(true)\n    else setShowForm(false)\n  }\n\n  function moreAuthors(){\n    if (!coauthor) setcoauthor(true)\n    else setcoauthor(false)\n  }\n\n  async function uploadCover({ target: { files } }){\n    const data = new FormData()\n    data.append(\"file\", files[0])\n    data.append(\"upload_preset\", \"all_my_books\")\n\n    const { data: { secure_url } } = await axios.post(\"https://api.cloudinary.com/v1_1/dxncdwsau/image/upload\", data)\n    setCoverURL(secure_url)\n  }\n\n  async function submitForm(e){\n    e.preventDefault()\n    await updateBook(book._id, {\n      title: titleInput.value,\n      authorFirstName: authorFirstNameInput.value,\n      authorLastName: authorLastNameInput.value,\n      coAuthorFirstName:coAuthorFirstNameInput.value,\n      coAuthorLastName: coAuthorLastNameInput.value,\n      publisher: publisherInput.value,\n      published: publishedInput.value,\n      edition: editionInput.value,\n      ISBN: ISBNInput.value,\n      publishPlace: publishPlaceInput.value,\n      pages: pagesInput.value,\n      format: formatInput.value,\n      description: descriptionInput.value,\n      cover: coverURL\n    })\n    setShowForm(false)\n    setUpdateBook(true)\n  }\n  \n\n  return (\n    <div className=\"bookDetailCard\">\n        {!showForm && \n        <>\n        <div>\n          <div>\n            <img src={book.cover} alt=\"Book cover\"/>\n          </div>\n            <div>\n            <button onClick={editForm}> <FontAwesomeIcon icon={ faEdit }/>&nbsp;<Link>Editar libro</Link></button>\n            <button onClick={eliminateBook}> <FontAwesomeIcon icon={ faTrashAlt }/>&nbsp; <Link to= \"\">Eliminar libro</Link></button>\n          </div>\n        </div>\n        <div>\n          <h2>{book.title}</h2>\n          <h3>{book.authorFirstName} {book.authorLastName}</h3>\n          <h3>{book.coAuthorFirstName} {book.coAuthorLastName}</h3>\n          <p><b>Editorial:</b> {book.publisher}</p>\n          <p><b>Año de publicación:</b> {book.published?.slice(0,4)}</p>\n          <p><b>Lugar de publicación:</b> {book.publishPlace}</p>\n          <p><b>Edición:</b> {book.edition}</p>\n          <p><b>Formato:</b> {book.format?.toLowerCase()}</p>\n          <p><b>Número de páginas:</b> {book.pages}</p>\n          <p><b>ISBN:</b> {book.ISBN}</p>\n        </div>\n        <div>\n          <div>\n            <p><b>Reseña:</b></p>\n            <p>{book.description}</p>\n          </div>\n            <ShelvesInBook shelves={bookShelves} bookId={bookId} setNewShelf={setNewShelf}></ShelvesInBook>\n        </div>\n        </>}\n        \n        {showForm &&\n        <>\n        <div>\n            <img src={book.cover} alt=\"Book cover\"/>\n        </div>\n        <form className=\"updatebook\" onSubmit={submitForm}>\n            <div>\n              <label>Título:</label>\n              <br/>\n              <input required type=\"text\" name=\"title\" id=\"title\" {...titleInput}/>\n              <br/>\n              <label>Nombre del autor(a):</label>\n              <br/>\n              <input type=\"text\" name=\"authorFirstName\" id=\"authorFirstName\" {...authorFirstNameInput}/>\n              <br/>\n              <label>Apellido del autor(a):</label>\n              <br/>\n              <input type=\"text\" name=\"authorLastName\" id=\"authorLastName\" {...authorLastNameInput}/>\n              <div>\n              {!coauthor && <button onClick={moreAuthors}>Agrega otro autor(a)</button>}\n              </div>\n              {coauthor && \n                <>\n                <div>\n                  <label>Nombre del coautor(a):</label>\n                  <input type=\"text\" name=\"author\" id=\"author\" {...coAuthorFirstNameInput}/>\n                </div>\n                <div>\n                  <label>Apellido del coautor(a):</label>\n                  <input type=\"text\" name=\"author\" id=\"author\" {...coAuthorLastNameInput}/>\n                </div>\n                </>}\n              <label>Editorial:</label>\n              <input type=\"text\" name=\"publisher\" id=\"publisher\" {...publisherInput}/>\n              <br/>\n              <label>Edición:</label>\n              <input type=\"text\" name=\"edition\" id=\"edition\" {...editionInput}/>\n            </div>\n            <div>\n              <div>\n                <label>Año de publicación:</label>\n                <input type=\"text\" name=\"published\" id=\"published\" {...publishedInput}/>\n              </div>\n              <div>\n                <label>Lugar de publicación:</label>\n                <input type=\"text\" name=\"publishPlace\" id=\"publishPlace\" {...publishPlaceInput}/>\n              </div>\n              <div>\n                <label>ISBN: </label>\n                <input type=\"text\" name=\"ISBN\" id=\"ISBN\" {...ISBNInput}/>\n              </div>\n              <div>\n                <label>Páginas:</label>\n                <input type=\"text\" name=\"pages\" id=\"pages\" {...pagesInput}/>\n              </div>\n              <div>\n                <label>Formato:</label>\n                <select required name=\"format\" {...formatInput}>\n                  <option value=\"\" selected>Selecciona una opción</option>\n                  <option value=\"TAPA BLANDA\">Tapa blanda</option>\n                  <option value=\"TAPA DURA\">Tapa dura</option>\n                  <option value=\"EBOOK \">Ebook</option>\n                </select>\n              </div>\n                <label>Portada: </label>\n                <div className=\"button-wrapper updatebookupload\">\n                  <span className=\"label\">Agrega un archivo</span>  \n                  <input onChange={uploadCover} type=\"file\" name=\"upload\" id=\"upload\" className=\"upload-box\" placeholder=\"Upload File\"/>\n                </div>\n                <label>Descripción</label>\n                <textarea type=\"text\" name=\"description\" id=\"description\" {...descriptionInput}/>\n                <div>\n                  <button type=\"submit\">Editar</button>\n                  <button onClick={editForm}>Cancelar</button>\n                </div>\n            </div>\n      </form>\n        </>}\n    </div>\n  )\n}\n\nexport default BookCardDetail","import React, { useState, useEffect } from 'react'\nimport Loader from \"../components/Loader\"\nimport { getBookDetail } from \"../services/books\"\nimport { deleteNote } from \"../services/notes\"\nimport { deleteQuote } from \"../services/quote\"\nimport NewNote from \"../components/NewNote\"\nimport NewQuote from \"../components/NewQuote\"\nimport Reference from \"../components/Reference\"\nimport BookCardDetail from \"../components/BookCardDetail\"\nimport { Link } from 'react-router-dom'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faFileAlt, faBookmark, faQuoteLeft } from \"@fortawesome/free-solid-svg-icons\"\n\nfunction BookDetail({ match: { params: { bookId } }}) {\n  const [book, setBook] = useState(null)\n  const [notes, setNotes] = useState(true)\n  const [quotes, setQuotes] = useState(false)\n  const [references, setReferences] = useState(false)\n  const [allNotes, setAllNotes] = useState(null)\n  const [allQuotes, setAllQuotes] = useState(null)\n  const [allShelves, setAllShelves] = useState(null)\n  const [newNote, setNewNote] = useState(false)\n  const [newQuote, setNewQuote] = useState(false)\n  const [newShelf, setNewShelf] = useState(false)\n  const [updateBook, setUpdateBook] = useState(false)\n\n  async function fetchBook() {\n    const detailbook = await getBookDetail(bookId)\n    setBook(detailbook.book)\n    setAllNotes(detailbook.book.notes)\n    setAllQuotes(detailbook.book.quotes)\n    setAllShelves(detailbook.book.bookshelves)\n  }\n\n  async function eliminateNote(id){\n    await deleteNote(id)\n    setNewNote(true)\n  }\n\n  async function eliminateQuote(id){\n    await deleteQuote(id)\n    setNewQuote(true)\n  }\n\n  function showNotes(){\n    setNotes(true)\n    setQuotes(false)\n    setReferences(false)\n  }\n\n  function showQuotes(){\n    setNotes(false)\n    setQuotes(true)\n    setReferences(false)\n  }\n\n  function showReferences(){\n    setNotes(false)\n    setQuotes(false)\n    setReferences(true)\n  }\n\n  useEffect(() => {\n    fetchBook()\n    setNewNote(false)\n    setNewQuote(false)\n    setUpdateBook(false)\n    setNewShelf(false)\n  }, [newNote, newQuote, updateBook, newShelf])\n\n  return (\n    <div className=\"bookdetail\">\n        {book? \n        <>\n          <BookCardDetail book={book} setUpdateBook={setUpdateBook} bookShelves={allShelves} bookId={bookId} setNewShelf={setNewShelf}></BookCardDetail>\n          <div className=\"notesbook\">\n            <Link onClick={showNotes} style={!notes? {backgroundColor:\"#e5e5e5\", color:\"#343a40\"} : {backgroundColor:\"rgba(168, 198, 134, 1)\"} }><FontAwesomeIcon icon={faBookmark}/>&nbsp;Notas</Link>\n            <Link onClick={showQuotes} style={!quotes? {backgroundColor:\"#e5e5e5\", color:\"#343a40\"} : {backgroundColor:\"rgba(168, 198, 134, 1)\"}}><FontAwesomeIcon icon={faQuoteLeft}/>&nbsp;Citas</Link>\n            <Link onClick={showReferences} style={!references? {backgroundColor:\"#e5e5e5\", color:\"#343a40\"} : {backgroundColor:\"rgba(168, 198, 134, 1)\"}}><FontAwesomeIcon icon={faFileAlt}/>&nbsp;Referencia</Link>\n            {notes && \n              <div className=\"notescards\">\n                <NewNote bookIdToUse={bookId} setNewNote={setNewNote}></NewNote>\n                {allNotes? allNotes.map((note, i) => (\n                  <div className=\"onenotecard\" key={i}>\n                    <p>{note.chapter}</p>\n                    {note.pages && <p>Página(s): {note.pages}</p>}\n                    <p>{note.description}</p>\n                    <button onClick={()=>{eliminateNote(note._id)}}>Eliminar nota</button>\n                  </div> \n                )) : <p>Agrega tus notas sobre el libro</p>}\n              </div>}\n            {quotes && \n              <div className=\"notescards\">\n                <NewQuote bookIdToUse={bookId} setNewQuote={setNewQuote}></NewQuote>\n                {allQuotes?.map((quote, i) => (\n                  <div className=\"onenotecard\" key={i}>\n                    <p>«{quote.description}»</p>\n                    {quote.pages && <p>Página(s): {quote.pages}</p>}\n                    {quote.note && <p>Nota: {quote.note}</p>}\n                    <button onClick={()=>{eliminateQuote(quote._id)}}>Eliminar nota</button>\n                  </div> \n                ))}\n                </div>}\n            {references && \n              <div className=\"notescards\">Referencias\n                <Reference bookData={book}></Reference>\n              </div>}\n          </div>\n          </>\n        : <Loader></Loader>}\n    </div>\n  )\n}\n\nexport default BookDetail","import React, { useState } from 'react'\nimport { createBook } from \"../services/books\"\nimport useInput from \"../hooks/useInput\"\nimport axios from \"axios\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faBookOpen,faPlus } from \"@fortawesome/free-solid-svg-icons\"\n\n\nfunction NewBook({ history }) {\n  const titleInput = useInput(\"\")\n  const authorFirstNameInput = useInput(\"\")\n  const authorLastNameInput = useInput(\"\")\n  const coAuthorFirstNameInput = useInput(\"\")\n  const coAuthorLastNameInput = useInput(\"\")\n  const publisherInput = useInput(\"\")\n  const publishedInput = useInput(\"\")\n  const editionInput = useInput(\"\")\n  const ISBNInput = useInput(\"\")\n  const publishPlaceInput = useInput(\"\")\n  const pagesInput = useInput(\"\")\n  const formatInput = useInput(\"\")\n  const descriptionInput = useInput(\"\")\n  const [imageURL, setImageURL] = useState(null)\n  const [coauthor, setcoauthor] = useState(false)\n\n  function moreAuthors(){\n    if (!coauthor) setcoauthor(true)\n    else setcoauthor(false)\n  }\n\n  function defaultImage(){\n    setImageURL(\"https://res.cloudinary.com/dxncdwsau/image/upload/v1601179377/All%20My%20Books/All_My_Books_fwa6ma.jpg\")\n  }\n\n  async function uploadCover({ target: { files } }){\n    try {\n      const data = new FormData()\n      data.append(\"file\", files[0])\n      data.append(\"upload_preset\", \"all_my_books\")\n      const { data: { secure_url } } = await axios.post(\"https://api.cloudinary.com/v1_1/dxncdwsau/image/upload\", data)\n      console.log(secure_url)\n      setImageURL(secure_url)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  async function submitForm(e){\n    e.preventDefault()\n    await createBook({\n      title: titleInput.value,\n      authorFirstName: authorFirstNameInput.value,\n      authorLastName: authorLastNameInput.value,\n      coAuthorFirstName:coAuthorFirstNameInput.value,\n      coAuthorLastName: coAuthorLastNameInput.value,\n      publisher: publisherInput.value,\n      published: publishedInput.value,\n      edition: editionInput.value,\n      ISBN: ISBNInput.value,\n      publishPlace: publishPlaceInput.value,\n      pages: pagesInput.value,\n      format: formatInput.value,\n      description: descriptionInput.value,\n      cover: imageURL\n    })\n    history.push(\"/userhome\")\n  }\n\n  return (\n    <div className=\"newbook\">\n      <h2>Crea un nuevo libro</h2>\n      <form onSubmit={submitForm}>\n        <div>\n          <label>Título:</label>\n          <input autoFocus required type=\"text\" name=\"title\" id=\"title\" placeholder=\"Frankenstein o el moderno Prometeo\" {...titleInput}/>\n        </div>\n        <div className=\"author\">\n          <div>\n            <label>Nombre del autor(a):</label>\n            <input type=\"text\" name=\"author\" id=\"author\" placeholder=\"Mary\" {...authorFirstNameInput}/>\n          </div>\n          <div>\n            <label>Apellido del autor(a):</label>\n            <input type=\"text\" name=\"author\" id=\"author\" placeholder=\"Shelley\" {...authorLastNameInput}/>\n          </div>\n        </div>\n        <div>\n          {!coauthor && <button onClick={moreAuthors}><FontAwesomeIcon icon={faPlus}/>&nbsp;&nbsp;Agrega otro autor(a)</button>}\n        </div>\n        {coauthor && \n          <div className=\"author\">\n            <div>\n              <label>Nombre del coautor(a):</label>\n              <input type=\"text\" name=\"author\" id=\"author\" {...coAuthorFirstNameInput}/>\n            </div>\n            <div>\n              <label>Apellido del coautor(a):</label>\n              <input type=\"text\" name=\"author\" id=\"author\" {...coAuthorLastNameInput}/>\n            </div>\n          </div>}\n        <div className=\"author\">\n          <div>\n            <label>Editorial:</label>\n            <input type=\"text\" name=\"publisher\" id=\"publisher\" placeholder=\"Lackington, Hughes & Harding\" {...publisherInput}/>\n          </div>\n          <div>\n            <label>Edición:</label>\n            <input type=\"text\" name=\"edition\" id=\"edition\" placeholder=\"primera edición\" {...editionInput}/>\n          </div>\n        </div>\n        <div className=\"author\">\n          <div>\n            <label>Año de publicación:</label>\n            <input type=\"text\" name=\"published\" id=\"published\" placeholder=\"1818\" {...publishedInput}/>\n          </div>\n          <div>\n            <label>Lugar de publicación:</label>\n            <input type=\"text\" name=\"publishPlace\" id=\"publishPlace\" placeholder=\"Londres\" {...publishPlaceInput}/>\n          </div>\n        </div>\n        <div className=\"author\">\n          <div>\n            <label>ISBN:</label>\n            <input placeholder=\"000-0-00-000000-0\" type=\"text\" name=\"ISBN\" id=\"ISBN\" {...ISBNInput}/>\n          </div>\n          <div>\n            <label>Páginas:</label>\n            <input type=\"text\" name=\"pages\" id=\"pages\" placeholder=\"280\" {...pagesInput}/>\n          </div>\n        </div>\n        <div className=\"uploadcover\">\n          <label>Portada: </label>\n          <div>\n            <label for=\"apa\">Selecciona la imagen por defecto</label>\n            <input type=\"checkbox\" name=\"reference\" value=\"apa\" onChange={defaultImage}/>\n          </div>\n          <div className=\"button-wrapper\">\n            <span className=\"label\">O agrega un archivo</span>\n            <input onChange={uploadCover} type=\"file\" name=\"upload\" id=\"upload\" className=\"upload-box\" placeholder=\"Upload File\"/>\n          </div>\n        </div>\n        <div>\n          <label>Formato:</label>\n          <select required name=\"format\" {...formatInput}>\n            <option value=\"\" selected>Selecciona una opción</option>\n            <option value=\"TAPA BLANDA\">Tapa blanda</option>\n            <option value=\"TAPA DURA\">Tapa dura</option>\n            <option value=\"EBOOK \">Ebook</option>\n          </select>\n        </div>\n        <div>\n          <label>Descripción:</label>\n          <textarea type=\"text\" name=\"description\" id=\"description\" placeholder=\"La novela narra la historia de Víctor Frankenstein, un estudiante de medicina en Ingolstadt, obsesionado por conocer «los secretos del cielo y la tierra».\" {...descriptionInput}/>\n        </div>\n        \n        <div>\n          <button disabled={!imageURL} type=\"submit\"><FontAwesomeIcon icon={faBookOpen}/>&nbsp;Crear libro</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default NewBook\n","import React, {useEffect, useState} from 'react'\nimport { getUserShelves, deleteShelf } from \"../services/shelves\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\"\nimport swal from \"@sweetalert/with-react\"\n\nfunction UserShelvesConfig() {\n  const [shelves, setShelves] = useState(null)\n  const [shelfDeleted, setShelfDeleted] = useState(false)\n\n  async function fetchShelves(){\n    const shlevesData = await getUserShelves()\n    setShelves(shlevesData.shelves.shelves)\n  }\n\n  function deleteShelves(shelfID){\n    swal({\n      title:\"Eliminar\",\n      text: \"¿Estás seguro(a) de que quieres eliminar el estante?\",\n      buttons: {\n        cancel: {\n          text: \"Cancelar\",\n          visible: true,\n          className: \"cancelbtn\",\n        },\n        confirm: {\n          text: \"Eliminar\",\n          className: \"aceptbtn\",\n        }\n      },\n      className: \"pushnotification\"\n    }).then(response => {\n      if (response){\n        deleteShelf(shelfID)\n        setShelfDeleted(true)\n      }\n    })\n  }\n\n  useEffect(() => {\n    fetchShelves()\n    setShelfDeleted(false)\n  }, [shelfDeleted])\n\n  return (\n    <div className=\"configshelves\">\n        <h2>Estantes:</h2>\n            {shelves? shelves.map((shelf, i) => (\n              <div>\n              <p key={i}>{shelf.name}</p>\n              <button onClick={()=>{deleteShelves(shelf._id)}}><FontAwesomeIcon icon={ faTrashAlt }/>&nbsp;Eliminar</button> \n              </div>\n            )) : <p>Aún no tienes estantes</p>}\n    </div>\n  )\n}\n\nexport default UserShelvesConfig\n","import React, { useState, useContext, useEffect } from 'react'\nimport { Context } from \"../context\"\nimport { Link } from \"react-router-dom\"\nimport { updateUser } from \"../services/auth\"\nimport axios from \"axios\"\nimport useInput from \"../hooks/useInput\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport {faEdit } from \"@fortawesome/free-solid-svg-icons\"\nimport UserShelvesConfig from \"../components/UserShelvesConfig\"\n\nfunction UserConfig() {\n  const { user, setUserUpdate } = useContext(Context)\n  const usernameInput = useInput(user?.username)\n  const emailInput = useInput(user?.email)\n  const [photoURL, setPhotoURL] = useState(user?.profilePhoto)\n  const [showForm, setShowForm] = useState(false)\n\n  function editForm(){\n    if (!showForm) setShowForm(true)\n    else setShowForm(false)\n  }\n\n  async function uploadPhoto({ target: { files } }){\n    const data = new FormData()\n    data.append(\"file\", files[0])\n    data.append(\"upload_preset\", \"all_my_books\")\n\n    const { data: { secure_url } } = await axios.post(\"https://api.cloudinary.com/v1_1/dxncdwsau/image/upload\", data)\n    setPhotoURL(secure_url)\n  }\n\n  async function submitForm(e){\n    e.preventDefault()\n    await updateUser(\n    {\n      username: usernameInput.value,\n      email: emailInput.value,\n      profilePhoto: photoURL\n    })\n    setShowForm(false)\n    setUserUpdate(true)\n  }\n\n\n  return (\n    <div className=\"bookDetailCard userProfile\">\n      <div>\n        <div>\n          <img src={user?.profilePhoto} alt=\"Profile\"/>\n        </div>\n        {!showForm && user?\n        <div className=\"userinfo\">\n          <h2>{user.username}</h2>\n          <h3>{user.email}</h3>\n          <button onClick={editForm}><FontAwesomeIcon icon={ faEdit }/>&nbsp;<Link>Editar</Link></button>\n        </div>\n        : <></>}\n        \n        {showForm && user?\n        <form onSubmit={submitForm}>\n          <label>Nombre de usuario: </label>\n          <input required type=\"text\" name=\"username\" id=\"username\" {...usernameInput}/>\n          <br/>\n          <label>Email: </label>\n          <input required type=\"text\" name=\"email\" id=\"email\" {...emailInput}/>\n          <br/>\n          <label>Foto de perfil: </label>\n          <input type=\"file\" onChange={uploadPhoto}/>\n          <button type=\"submit\">Editar</button>\n          <button onClick={editForm}>Cancelar</button>\n        </form>: \n        <></>}\n      </div>\n      <UserShelvesConfig/>\n    </div>\n  )\n}\n\nexport default UserConfig\n","import React, { useContext } from 'react'\nimport { Redirect, Route} from \"react-router-dom\"\nimport { Context } from \"../context\"\n\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const { user } = useContext(Context)\n  return (\n    <Route {...rest} render={\n      props => (user? <Component {...rest} {...props} /> : <Redirect to=\"/\" />)\n    } />\n  )\n}\n\nexport default PrivateRoute\n","import React from \"react\"\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\"\nimport Layout from \"./components/Layout\"\nimport Home from \"./pages/Home\"\nimport UserHome from \"./pages/UserHome\"\nimport BookDetail from \"./pages/BookDetail\"\nimport NewBook from \"./pages/NewBook\"\nimport UserConfig from \"./pages/UserConfig\"\nimport PrivateRoute from \"./components/PrivateRoute\"\n\nconst Router = () => {\n  return(\n    <BrowserRouter>\n      <Switch>\n        <Route component={Home} path=\"/\" exact/>\n        <Layout>\n          <PrivateRoute component={UserHome} path=\"/userhome\" exact/>\n          <PrivateRoute component={NewBook} path=\"/newbook\" exact/>\n          <PrivateRoute component={BookDetail} path=\"/detailbook/:bookId\" exact/>\n          <PrivateRoute component={UserConfig} path=\"/userconfig\" exact/>\n        </Layout>\n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default Router","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport Router from \"./router\"\nimport CtxProvider from \"./context\"\n\nReactDOM.render(\n  <CtxProvider>\n    <Router />\n  </CtxProvider>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}