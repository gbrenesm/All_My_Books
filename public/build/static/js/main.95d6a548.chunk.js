(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){e.exports=a(75)},45:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l);a(45),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(7),o=a(8),i=a(1),s=a.n(i),m=a(2),p=a(3),b=a(10),d=a.n(b),E=d.a.create({baseURL:"/auth",withCredentials:!0}),h=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/signup",t);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/login",t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/currentuser");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.put("/updateuser",t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/logout");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=Object(n.createContext)();function O(e){var t=e.children,a=Object(n.useState)(null),l=Object(p.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(!1),i=Object(p.a)(o,2),b=i[0],d=i[1];Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,a=t.user,u(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),d(!1)}),[b]);return r.a.createElement(N.Provider,{value:{user:c,ctxUser:function(e){return u(e)},clearctxUser:function(){return u(null)},setUserUpdate:d}},t)}var k=a(4),x=a(5);var y=function(e){var t=e.children,a=Object(n.useContext)(N),l=a.user,c=a.clearctxUser,i=Object(o.g)(),p=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:c(),i.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("img",{src:"https://res.cloudinary.com/dxncdwsau/image/upload/v1600963193/All_My_Books/%C3%8Dcono_de_libros_blanco_hajncl.png",alt:"Books icon"}),"\xa0 ",r.a.createElement(u.b,{to:"/userhome"},"All My Books"))),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.b,{to:"/newbook"},"Agregar libro")),r.a.createElement("li",{className:"navicon"},r.a.createElement("img",{src:null===l||void 0===l?void 0:l.profilePhoto,alt:"User"}),"\xa0",r.a.createElement(k.a,{icon:x.a}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.b,{to:"/userconfig"},"Configuraci\xf3n")),r.a.createElement("li",{onClick:p},r.a.createElement(u.b,null,"Cerrar sesi\xf3n"))))))),r.a.createElement("main",null,t))};function w(e){var t=Object(n.useState)(e),a=Object(p.a)(t,2),r=a[0],l=a[1];return{value:r,onChange:function(e){l(e.target.value)}}}var C,A=a(16),S=a(18),L=a.n(S);C="https://allmybooksmex.herokuapp.com";var F=function(e){var t=e.history,a=Object(n.useContext)(N).ctxUser,l=w(""),c=w(""),u=w(""),o=Object(n.useState)(!0),i=Object(p.a)(o,2),b=i[0],d=i[1];function E(){return(E=Object(m.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=l.value,n=c.value,r=u.value,e.prev=4,e.next=7,h({username:a,email:n,password:r});case 7:d(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.dir(e.t0.response.data.message),L()({title:"Vuelve a intentar",text:e.t0.response.data.message,type:"error",className:"alert"});case 14:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function v(){return(v=Object(m.a)(s.a.mark((function e(n){var r,l,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=c.value,l=u.value,e.prev=3,e.next=6,f({email:r,password:l});case 6:o=e.sent,a(o),t.push("/userhome"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.dir(e.t0.response.data.message),L()({title:"Vuelve a intentar",text:e.t0.response.data.message,type:"error",className:"alert"});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function g(){d(!b)}return r.a.createElement("div",{className:"homepage"},r.a.createElement("div",null,r.a.createElement("h1",null,"All My Books"),r.a.createElement("h2",null,"El lugar para ordenar todos tus libros"),r.a.createElement("img",{src:"https://res.cloudinary.com/dxncdwsau/image/upload/v1600883938/All_My_Books/Book_shelf_warm_colors_omdjq1.jpg",alt:"Bookshelf by colors"})),b&&r.a.createElement("div",null,r.a.createElement("h2",null,"Crea una cuenta"),r.a.createElement("form",{onSubmit:function(e){return E.apply(this,arguments)}},r.a.createElement("label",null,"Nombre de usuario: "),r.a.createElement("br",null),r.a.createElement("input",Object.assign({required:!0,type:"text",name:"username",id:"username"},l)),r.a.createElement("br",null),r.a.createElement("label",null,"Email:"),r.a.createElement("br",null),r.a.createElement("input",Object.assign({required:!0,type:"text",name:"email",id:"email"},c)),r.a.createElement("br",null),r.a.createElement("label",null,"Contrase\xf1a:"),r.a.createElement("br",null),r.a.createElement("input",Object.assign({required:!0,type:"password",name:"password",id:"password"},u)),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Crea tu cuenta")),r.a.createElement("div",null,r.a.createElement("a",{href:"".concat(C,"/auth/google")},r.a.createElement(k.a,{icon:A.b})," \xa0Google"),r.a.createElement("a",{href:"".concat(C,"/auth/facebook")},r.a.createElement(k.a,{icon:A.a}),"\xa0Facebook")),r.a.createElement("hr",null),r.a.createElement("div",{className:"signupbtn"},r.a.createElement("p",null,"\xbfYa tienes cuenta?")," ",r.a.createElement("button",{onClick:g},"Inicia sesi\xf3n"))),!b&&r.a.createElement("div",null,r.a.createElement("h2",null,"Inicia sesi\xf3n"),r.a.createElement("form",{onSubmit:function(e){return v.apply(this,arguments)}},r.a.createElement("label",null,"Email"),r.a.createElement("input",Object.assign({required:!0,type:"text",name:"email",id:"email"},c)),r.a.createElement("label",null,"Contrase\xf1a"),r.a.createElement("input",Object.assign({required:!0,type:"password",name:"password",id:"password"},u)),r.a.createElement("button",{type:"submit"},"Inicia sesi\xf3n")),r.a.createElement("div",null,r.a.createElement("a",{href:"".concat(C,"/auth/google")},r.a.createElement(k.a,{icon:A.b})," \xa0Google"),r.a.createElement("a",{href:"".concat(C,"/auth/facebook")},r.a.createElement(k.a,{icon:A.a}),"\xa0Facebook")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("button",{onClick:g},"Crea una cuenta"))))},B=d.a.create({baseURL:"/api",withCredentials:!0}),I=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.post("/newbook",t);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get("/userbooks");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get("/userbooksauthor");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get("/detailbook/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.put("/updatebook/".concat(t),a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.delete("/deletebook/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=d.a.create({baseURL:"/api",withCredentials:!0}),R=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/shelfnew",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/booksshlef/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("usershelves");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.put("addbook/".concat(t),a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.put("removebook/".concat(t),a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.delete("shelfdelete/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var J=function(e){var t=e.shelves,a=e.setNewShlef,l=e.fetchAllBooks,c=e.setBooks,o=w(""),i=Object(n.useState)(!1),b=Object(p.a)(i,2),d=b[0],E=b[1];function h(){return(h=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:a=e.sent,c(a.books.books);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,R({name:o.value});case 3:E(!1),a(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){E(!d)}return r.a.createElement("div",null,r.a.createElement("h2",null,"Estantes"),!d&&r.a.createElement("button",{onClick:v},r.a.createElement(k.a,{icon:x.j}),"\xa0\xa0Crear nuevo estante"),d&&r.a.createElement("form",{onSubmit:function(e){return f.apply(this,arguments)}},r.a.createElement("label",null,r.a.createElement("b",null,"Nombre del estante: ")),r.a.createElement("input",Object.assign({required:!0,type:"text",name:"name",id:"name"},o)),r.a.createElement("button",{type:"submit"},"Crear estante"),r.a.createElement("button",{onClick:v},"Cancelar")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.b,{onClick:l},r.a.createElement(k.a,{icon:x.b}),"\xa0\xa0Todos tus libros")),null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(u.b,{onClick:function(){return function(e){return h.apply(this,arguments)}(e._id)}},r.a.createElement(k.a,{icon:x.b}),"\xa0\xa0",e.name))}))))};var K=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))};var W=function(){var e=Object(n.useState)(null),t=Object(p.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),o=Object(p.a)(c,2),i=o[0],b=o[1],d=Object(n.useState)(!1),E=Object(p.a)(d,2),h=E[0],f=E[1],v=Object(n.useState)(!1),g=Object(p.a)(v,2),j=g[0],N=g[1],O=w(""),y=Object(n.useState)(!0),C=Object(p.a)(y,2),A=C[0],S=C[1];function L(){return F.apply(this,arguments)}function F(){return(F=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,l(t.user.books),b(t.user.shelves),f(!1),S(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,l(t.user.books),S(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){e.preventDefault(),f(!0),l(a.filter((function(e){return e.title.toLowerCase().includes(O.value.toLowerCase())||e.authorFirstName.toLowerCase().includes(O.value.toLowerCase())||e.authorLastName.toLowerCase().includes(O.value.toLowerCase())}))),""===O.value&&L()}return Object(n.useEffect)((function(){L(),N(!1)}),[j]),r.a.createElement("div",{className:"userhome"},r.a.createElement(J,{shelves:i,setNewShlef:N,fetchAllBooks:L,setBooks:l}),r.a.createElement("div",null,r.a.createElement("form",{onChange:I,onSubmit:I,className:"search"},r.a.createElement("button",{onClick:L,className:"returnBtutton"},r.a.createElement(k.a,{icon:x.e})),r.a.createElement("input",Object.assign({type:"text",className:"searchTerm",placeholder:"Busca por autor(a) o t\xedtulo"},O)),r.a.createElement("button",{className:"searchButton"},r.a.createElement(k.a,{icon:x.l}))),r.a.createElement("div",null,!h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{style:A?{backgroundColor:"#588157"}:{backgroundColor:"#e5e5e5",color:"#343a40"},className:"sortButton",onClick:L},"Ver por t\xedtulo"),r.a.createElement("button",{style:A?{backgroundColor:"#e5e5e5",color:"#343a40"}:{backgroundColor:"#588157"},className:"sortButton",onClick:function(){return B.apply(this,arguments)}},"Ver por autor(a)"))),r.a.createElement("div",null,a?a.map((function(e,t){return r.a.createElement("div",{key:t,className:"bookcard"},r.a.createElement("img",{src:e.cover,alt:"Book cover"}),r.a.createElement("div",null,r.a.createElement("h4",null,e.title),r.a.createElement("p",null,e.authorFirstName," ",e.authorLastName),r.a.createElement("p",null,e.coAuthorFirstName," ",e.coAuthorLastName)),r.a.createElement("div",null,r.a.createElement("button",null,r.a.createElement(u.b,{to:"/detailbook/".concat(e._id)},"Detalles"))))})):r.a.createElement(K,null),a===[]&&r.a.createElement("p",null,"A\xfan no tienes libros"))))},Y=d.a.create({baseURL:"/api",withCredentials:!0}),$=function(){var e=Object(m.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.post("/note/".concat(t),a);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.delete("/notedelete/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=d.a.create({baseURL:"/api",withCredentials:!0}),Z=function(){var e=Object(m.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("/quote/".concat(t),a);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.delete("/quotedelete/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var te=function(e){var t=e.bookIdToUse,a=e.setNewNote,l=w(""),c=w(""),u=w(""),o=Object(n.useState)(!1),i=Object(p.a)(o,2),b=i[0],d=i[1];function E(){return(E=Object(m.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,$(t,{description:l.value,chapter:c.value,pages:u.value});case 3:d(!1),a(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){d(!b)}return r.a.createElement("div",{className:"newnoteformat"},!b&&r.a.createElement("button",{onClick:h},r.a.createElement(k.a,{icon:x.h})," Agregar nueva nota"),b&&r.a.createElement("form",{onSubmit:function(e){return E.apply(this,arguments)}},r.a.createElement("label",null,"Descripci\xf3n:"),r.a.createElement("textarea",Object.assign({required:!0,autofocus:!0,type:"text",name:"description",id:"description",placeholder:"Escribe aqu\xed todo lo que quiras guardar sobre el libro..."},l)),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,"Cap\xedtulo relacionado:\xa0"),r.a.createElement("input",Object.assign({type:"text",name:"chapter",id:"chapter",placeholder:"Ejs. Cap\xedtulo 1, cap I, Prefacio"},c))),r.a.createElement("div",null,r.a.createElement("label",null,"P\xe1ginas:\xa0"),r.a.createElement("input",Object.assign({type:"text",name:"pages",id:"pages",placeholder:"Ejs. 2-4, 7 y 15"},u)))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"}," Crear nota"),r.a.createElement("button",{onClick:h},"Cancelar"))))};var ae=function(e){var t=e.bookIdToUse,a=e.setNewQuote,l=w(""),c=w(""),u=w(""),o=Object(n.useState)(!1),i=Object(p.a)(o,2),b=i[0],d=i[1];function E(){return(E=Object(m.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Z(t,{description:l.value,note:c.value,pages:u.value});case 3:d(!1),a(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){d(!b)}return r.a.createElement("div",{className:"newnoteformat"},!b&&r.a.createElement("button",{onClick:h},r.a.createElement(k.a,{icon:x.h}),"Agrega una nueva cita"),b&&r.a.createElement("form",{className:"newquote",onSubmit:function(e){return E.apply(this,arguments)}},r.a.createElement("label",null,"Cita textual:"),r.a.createElement("textarea",Object.assign({required:!0,type:"text",name:"description",id:"description",placeholder:"Escribe aqu\xed la cita que quieras guardar, no es necesario ponerla entre comillas"},l)),r.a.createElement("label",null,"Nota:"),r.a.createElement("textarea",Object.assign({type:"text",name:"note",id:"note",placeholder:"\xbfAlg\xfan pensamiento relacionada a la cita?"},c)),r.a.createElement("label",null,"P\xe1ginas:"),r.a.createElement("input",Object.assign({type:"text",name:"pages",id:"pages",placeholder:"Ejs. 2-4, 7 y 15"},u)),r.a.createElement("div",{className:"newquote"},r.a.createElement("button",{type:"submit"}," Crear cita"),r.a.createElement("button",{onClick:h},"Cancelar"))))};var ne=function(e){var t=e.bookData,a=Object(n.useState)(!1),l=Object(p.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(!1),i=Object(p.a)(o,2),s=i[0],m=i[1],b=Object(n.useState)(!1),d=Object(p.a)(b,2),E=d[0],h=d[1],f=Object(n.useState)(!1),v=Object(p.a)(f,2),g=v[0],j=v[1];return r.a.createElement("div",null,r.a.createElement("p",null,"Selecciona un formato de referencias: "),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",name:"reference",value:"apa",onChange:function(){u(!0),m(!1),h(!1),j(!1)}}),r.a.createElement("label",{for:"apa"},"APA"),r.a.createElement("input",{type:"radio",name:"reference",value:"mla",onChange:function(){u(!1),m(!0),h(!1),j(!1)}}),r.a.createElement("label",{for:"mla"},"MLA"),r.a.createElement("input",{type:"radio",name:"reference",value:"chicago",onChange:function(){u(!1),m(!1),h(!0),j(!1)}}),r.a.createElement("label",{for:"chicago"},"Chicago"),r.a.createElement("input",{type:"radio",name:"reference",value:"UNE-ISO 690 ",onChange:function(){u(!1),m(!1),h(!1),j(!0)}}),r.a.createElement("label",{for:"UNE-ISO 690"},"UNE-ISO 690 ")),r.a.createElement("div",{className:"notes"},c&&r.a.createElement("p",null,t.authorLastName?t.authorLastName:"Apellido",", ",t.authorFirstName?t.authorFirstName.charAt(0):"Iniciales",".",t.coAuthorLastName?", y ".concat(t.coAuthorLastName):"",t.coAuthorFirstName?", ".concat(t.coAuthorFirstName.charAt(0),"."):""," (",t.published?t.published.slice(0,4):"A\xf1o de publicaci\xf3n","). ",r.a.createElement("em",null,t.title),". ",t.publisher===[]?"Editorial":t.publisher),c&&r.a.createElement("button",{onClick:function(){return navigator.clipboard.writeText("".concat(t.authorLastName?t.authorLastName:"Apellido",", ").concat(t.authorFirstName?t.authorFirstName.charAt(0):"Iniciales",".").concat(t.coAuthorLastName?", y ".concat(t.coAuthorLastName):"").concat(t.coAuthorFirstName?", ".concat(t.coAuthorFirstName.charAt(0),"."):""," (").concat(t.published?t.published.slice(0,4):"A\xf1o de publicaci\xf3n","). ").concat(t.title,". ").concat(t.publisher===[]?"Editorial":t.publisher))}},r.a.createElement(k.a,{icon:x.f}),"\xa0\xa0Copiar referencia"),s&&r.a.createElement("p",null,t.authorLastName?t.authorLastName:"Apellido",", ",t.authorFirstName?t.authorFirstName:"Nombre",t.coAuthorLastName?", et al":"",". ",r.a.createElement("em",null,t.title),". ",t.publishPlace?t.publishPlace:"Lugar de publicaci\xf3n",": ",t.publisher===[]?"Editorial":t.publisher,", ",t.published?t.published.slice(0,4):"A\xf1o de publicaci\xf3n",". "),s&&r.a.createElement("button",{onClick:function(){return navigator.clipboard.writeText("".concat(t.authorLastName?t.authorLastName:"Apellido",", ").concat(t.authorFirstName?t.authorFirstName:"Nombre").concat(t.coAuthorLastName?", et al":"",". ").concat(t.title,". ").concat(t.publishPlace?t.publishPlace:"Lugar de publicaci\xf3n",": ").concat(t.publisher===[]?"Editorial":t.publisher,", ").concat(t.published?t.published.slice(0,4):"A\xf1o de publicaci\xf3n","."))}},r.a.createElement(k.a,{icon:x.f}),"\xa0\xa0Copiar referencia"),E&&r.a.createElement("p",null,t.authorLastName?t.authorLastName:"Apellido",", ",t.authorFirstName?t.authorFirstName:"Nombre",t.coAuthorFirstName?", and ".concat(t.coAuthorFirstName):"",t.coAuthorLastName?"".concat(t.coAuthorLastName):"",". ",r.a.createElement("em",null,t.title),". ",t.publishPlace?t.publishPlace:"Lugar de publicaci\xf3n",": ",t.publisher===[]?"Editorial":t.publisher,", ",t.published?t.published.slice(0,4):"A\xf1o de publicaci\xf3n",". "),E&&r.a.createElement("button",{onClick:function(){return navigator.clipboard.writeText("".concat(t.authorLastName?t.authorLastName:"Apellido",", ").concat(t.authorFirstName?t.authorFirstName:"Nombre").concat(t.coAuthorFirstName?", and ".concat(t.coAuthorFirstName):"").concat(t.coAuthorLastName?"".concat(t.coAuthorLastName):"",". ").concat(t.title,". ").concat(t.publishPlace?t.publishPlace:"Lugar de publicaci\xf3n",": ").concat(t.publisher===[]?"Editorial":t.publisher,", ").concat(t.published?t.published.slice(0,4):"A\xf1o de publicaci\xf3n"))}},r.a.createElement(k.a,{icon:x.f}),"\xa0\xa0Copiar referencia"),g&&r.a.createElement("p",null,t.authorLastName?t.authorLastName.toUpperCase():"Apellido",", ",t.authorFirstName?t.authorFirstName:"Nombre"," ",t.coAuthorLastName?"y ".concat(t.coAuthorLastName):"",t.coAuthorFirstName?", ".concat(t.coAuthorFirstName.charAt(0)):"",". ",r.a.createElement("em",null,t.title,".")," ",t.publishPlace?t.publishPlace:"Lugar de publicaci\xf3n",": ",t.publisher===[]?"Editorial":t.publisher,", ",t.published?t.published.slice(0,4):"A\xf1o de publicaci\xf3n",". ISBN: ",t.ISBN?t.ISBN:"ISBN"),g&&r.a.createElement("button",{onClick:function(){return navigator.clipboard.writeText("".concat(t.authorLastName?t.authorLastName.toUpperCase():"Apellido",", ").concat(t.authorFirstName?t.authorFirstName:"Nombre"," ").concat(t.coAuthorLastName?"y ".concat(t.coAuthorLastName):"").concat(t.coAuthorFirstName?", ".concat(t.coAuthorFirstName.charAt(0)):"",". ").concat(t.title,". ").concat(t.publishPlace?t.publishPlace:"Lugar de publicaci\xf3n",": ").concat(t.publisher===[]?"Editorial":t.publisher,", ").concat(t.published?t.published.slice(0,4):"A\xf1o de publicaci\xf3n",". ISBN: ").concat(t.ISBN?t.ISBN:"ISBN"))}},r.a.createElement(k.a,{icon:x.f}),"\xa0\xa0Copiar referencia")))};var re=function(e){var t=e.shelves,a=e.bookId,l=e.setNewShelf,c=w(""),u=Object(n.useState)(!1),o=Object(p.a)(u,2),i=o[0],b=o[1],d=Object(n.useState)(null),E=Object(p.a)(d,2),h=E[0],f=E[1];function v(){b(!i)}function g(){return(g=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:t=e.sent,f(t.shelves.shelves);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(a,{shelfId:t});case 2:l(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Q(a,{shelfId:c.value});case 3:b(!1),l(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"bookshelves"},r.a.createElement("p",null,r.a.createElement("b",null,"Estantes:")),r.a.createElement("div",null,null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("p",{key:t},e.name),r.a.createElement("button",{onClick:function(){return function(e){return j.apply(this,arguments)}(e._id)}},r.a.createElement(k.a,{icon:x.m}),"\xa0Quitar"))}))),!i&&r.a.createElement("button",{onClick:v}," ",r.a.createElement(k.a,{icon:x.j}),"\xa0\xa0 A\xf1ade el libro a un estante"),i&&r.a.createElement("form",{onSubmit:function(e){return N.apply(this,arguments)}},r.a.createElement("select",Object.assign({required:!0,name:"shelf"},c),r.a.createElement("option",{value:"",selected:!0},"Selecciona un estante"),null===h||void 0===h?void 0:h.map((function(e,t){return r.a.createElement("option",{value:e._id}," ",e.name)}))),r.a.createElement("button",{type:"submit"},"A\xf1ade libro"),r.a.createElement("button",{className:"cancel",onClick:v},"Cancelar")))},le=a(19),ce=a.n(le);var ue=function(e){var t,a,l,c=e.book,i=e.setUpdateBook,b=e.bookShelves,E=e.bookId,h=e.setNewShelf,f=Object(n.useState)(!1),v=Object(p.a)(f,2),g=v[0],j=v[1],N=Object(o.g)(),O=w(c.title),y=w(c.authorFirstName),C=w(c.authorLastName),A=w(c.coAuthorFirstName),S=w(c.coAuthorLastName),L=w(c.publisher),F=w(null===(t=c.published)||void 0===t?void 0:t.slice(0,4)),B=w(c.edition),I=w(c.ISBN),P=w(c.publishPlace),_=w(c.pages),q=w(""),T=w(c.description),R=Object(n.useState)(c.cover),M=Object(p.a)(R,2),V=M[0],Q=M[1],G=Object(n.useState)(!1),H=Object(p.a)(G,2),J=H[0],K=H[1];function W(){c.coAuthorLastName&&K(!0),j(!g)}function Y(){return(Y=Object(m.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files,(n=new FormData).append("file",a[0]),n.append("upload_preset","all_my_books"),e.next=6,d.a.post("https://api.cloudinary.com/v1_1/dxncdwsau/image/upload",n);case 6:r=e.sent,l=r.data.secure_url,Q(l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,U(c._id,{title:O.value,authorFirstName:y.value,authorLastName:C.value,coAuthorFirstName:A.value,coAuthorLastName:S.value,publisher:L.value,published:F.value,edition:B.value,ISBN:I.value,publishPlace:P.value,pages:_.value,format:q.value,description:T.value,cover:V});case 3:j(!1),i(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"bookDetailCard"},!g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:c.cover,alt:"Book cover"})),r.a.createElement("div",null,r.a.createElement("button",{onClick:W}," ",r.a.createElement(k.a,{icon:x.g}),"\xa0",r.a.createElement(u.b,null,"Editar libro")),r.a.createElement("button",{onClick:function(){ce()({title:"Eliminar",text:"\xbfEst\xe1s seguro(a) de que quieres eliminar el libro?",buttons:["Cancelar","Eliminar"]}).then((function(e){e&&(D(c._id),N.push("/userhome"))}))}}," ",r.a.createElement(k.a,{icon:x.n}),"\xa0 ",r.a.createElement(u.b,{to:""},"Eliminar libro")))),r.a.createElement("div",null,r.a.createElement("h2",null,c.title),r.a.createElement("h3",null,c.authorFirstName," ",c.authorLastName),r.a.createElement("h3",null,c.coAuthorFirstName," ",c.coAuthorLastName),r.a.createElement("p",null,r.a.createElement("b",null,"Editorial:")," ",c.publisher),r.a.createElement("p",null,r.a.createElement("b",null,"A\xf1o de publicaci\xf3n:")," ",null===(a=c.published)||void 0===a?void 0:a.slice(0,4)),r.a.createElement("p",null,r.a.createElement("b",null,"Lugar de publicaci\xf3n:")," ",c.publishPlace),r.a.createElement("p",null,r.a.createElement("b",null,"Edici\xf3n:")," ",c.edition),r.a.createElement("p",null,r.a.createElement("b",null,"Formato:")," ",null===(l=c.format)||void 0===l?void 0:l.toLowerCase()),r.a.createElement("p",null,r.a.createElement("b",null,"N\xfamero de p\xe1ginas:")," ",c.pages),r.a.createElement("p",null,r.a.createElement("b",null,"ISBN:")," ",c.ISBN)),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Rese\xf1a:")),r.a.createElement("p",null,c.description)),r.a.createElement(re,{shelves:b,bookId:E,setNewShelf:h}))),g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("img",{src:c.cover,alt:"Book cover"})),r.a.createElement("form",{className:"updatebook",onSubmit:function(e){return $.apply(this,arguments)}},r.a.createElement("div",null,r.a.createElement("label",null,"T\xedtulo:"),r.a.createElement("br",null),r.a.createElement("input",Object.assign({required:!0,type:"text",name:"title",id:"title"},O)),r.a.createElement("br",null),r.a.createElement("label",null,"Nombre del autor(a):"),r.a.createElement("br",null),r.a.createElement("input",Object.assign({type:"text",name:"authorFirstName",id:"authorFirstName"},y)),r.a.createElement("br",null),r.a.createElement("label",null,"Apellido del autor(a):"),r.a.createElement("br",null),r.a.createElement("input",Object.assign({type:"text",name:"authorLastName",id:"authorLastName"},C)),r.a.createElement("div",null,!J&&r.a.createElement("button",{onClick:function(){K(!J)}},"Agrega otro autor(a)")),J&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("label",null,"Nombre del coautor(a):"),r.a.createElement("input",Object.assign({type:"text",name:"author",id:"author"},A))),r.a.createElement("div",null,r.a.createElement("label",null,"Apellido del coautor(a):"),r.a.createElement("input",Object.assign({type:"text",name:"author",id:"author"},S)))),r.a.createElement("label",null,"Editorial:"),r.a.createElement("input",Object.assign({type:"text",name:"publisher",id:"publisher"},L)),r.a.createElement("br",null),r.a.createElement("label",null,"Edici\xf3n:"),r.a.createElement("input",Object.assign({type:"text",name:"edition",id:"edition"},B))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,"A\xf1o de publicaci\xf3n:"),r.a.createElement("input",Object.assign({type:"text",name:"published",id:"published"},F))),r.a.createElement("div",null,r.a.createElement("label",null,"Lugar de publicaci\xf3n:"),r.a.createElement("input",Object.assign({type:"text",name:"publishPlace",id:"publishPlace"},P))),r.a.createElement("div",null,r.a.createElement("label",null,"ISBN: "),r.a.createElement("input",Object.assign({type:"text",name:"ISBN",id:"ISBN"},I))),r.a.createElement("div",null,r.a.createElement("label",null,"P\xe1ginas:"),r.a.createElement("input",Object.assign({type:"text",name:"pages",id:"pages"},_))),r.a.createElement("div",null,r.a.createElement("label",null,"Formato:"),r.a.createElement("select",Object.assign({required:!0,name:"format"},q),r.a.createElement("option",{value:"",selected:!0},"Selecciona una opci\xf3n"),r.a.createElement("option",{value:"TAPA BLANDA"},"Tapa blanda"),r.a.createElement("option",{value:"TAPA DURA"},"Tapa dura"),r.a.createElement("option",{value:"EBOOK "},"Ebook"))),r.a.createElement("label",null,"Portada: "),r.a.createElement("div",{className:"button-wrapper updatebookupload"},r.a.createElement("span",{className:"label"},"Agrega un archivo"),r.a.createElement("input",{onChange:function(e){return Y.apply(this,arguments)},type:"file",name:"upload",id:"upload",className:"upload-box",placeholder:"Upload File"})),r.a.createElement("label",null,"Descripci\xf3n"),r.a.createElement("textarea",Object.assign({type:"text",name:"description",id:"description"},T)),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Editar"),r.a.createElement("button",{onClick:W},"Cancelar"))))))};var oe=function(e){var t=e.match.params.bookId,a=Object(n.useState)(null),l=Object(p.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(!0),b=Object(p.a)(i,2),d=b[0],E=b[1],h=Object(n.useState)(!1),f=Object(p.a)(h,2),v=f[0],g=f[1],j=Object(n.useState)(!1),N=Object(p.a)(j,2),O=N[0],y=N[1],w=Object(n.useState)(null),C=Object(p.a)(w,2),A=C[0],S=C[1],L=Object(n.useState)(null),F=Object(p.a)(L,2),B=F[0],I=F[1],P=Object(n.useState)(null),_=Object(p.a)(P,2),U=_[0],D=_[1],T=Object(n.useState)(!1),R=Object(p.a)(T,2),M=R[0],V=R[1],Q=Object(n.useState)(!1),G=Object(p.a)(Q,2),H=G[0],J=G[1],W=Object(n.useState)(!1),Y=Object(p.a)(W,2),$=Y[0],X=Y[1],Z=Object(n.useState)(!1),re=Object(p.a)(Z,2),le=re[0],ce=re[1];function oe(){return(oe=Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:a=e.sent,o(a.book),S(a.book.notes),I(a.book.quotes),D(a.book.bookshelves);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:V(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:J(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){oe.apply(this,arguments)}(),V(!1),J(!1),ce(!1),X(!1)}),[M,H,le,$]),r.a.createElement("div",{className:"bookdetail"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,{book:c,setUpdateBook:ce,bookShelves:U,bookId:t,setNewShelf:X}),r.a.createElement("div",{className:"notesbook"},r.a.createElement(u.b,{onClick:function(){E(!0),g(!1),y(!1)},style:d?{backgroundColor:"rgba(168, 198, 134, 1)"}:{backgroundColor:"#e5e5e5",color:"#343a40"}},r.a.createElement(k.a,{icon:x.d}),"\xa0Notas"),r.a.createElement(u.b,{onClick:function(){E(!1),g(!0),y(!1)},style:v?{backgroundColor:"rgba(168, 198, 134, 1)"}:{backgroundColor:"#e5e5e5",color:"#343a40"}},r.a.createElement(k.a,{icon:x.k}),"\xa0Citas"),r.a.createElement(u.b,{onClick:function(){E(!1),g(!1),y(!0)},style:O?{backgroundColor:"rgba(168, 198, 134, 1)"}:{backgroundColor:"#e5e5e5",color:"#343a40"}},r.a.createElement(k.a,{icon:x.i}),"\xa0Referencia"),d&&r.a.createElement("div",{className:"notescards"},r.a.createElement(te,{bookIdToUse:t,setNewNote:V}),A?A.map((function(e,t){return r.a.createElement("div",{className:"onenotecard",key:t},r.a.createElement("p",null,e.chapter),e.pages&&r.a.createElement("p",null,"P\xe1gina(s): ",e.pages),r.a.createElement("p",null,e.description),r.a.createElement("button",{onClick:function(){!function(e){ie.apply(this,arguments)}(e._id)}},"Eliminar nota"))})):r.a.createElement("p",null,"Agrega tus notas sobre el libro")),v&&r.a.createElement("div",{className:"notescards"},r.a.createElement(ae,{bookIdToUse:t,setNewQuote:J}),null===B||void 0===B?void 0:B.map((function(e,t){return r.a.createElement("div",{className:"onenotecard",key:t},r.a.createElement("p",null,"\xab",e.description,"\xbb"),e.pages&&r.a.createElement("p",null,"P\xe1gina(s): ",e.pages),e.note&&r.a.createElement("p",null,"Nota: ",e.note),r.a.createElement("button",{onClick:function(){!function(e){se.apply(this,arguments)}(e._id)}},"Eliminar nota"))}))),O&&r.a.createElement("div",{className:"notescards"},"Referencias",r.a.createElement(ne,{bookData:c})))):r.a.createElement(K,null))};var ie=function(e){var t=e.history,a=w(""),l=w(""),c=w(""),u=w(""),o=w(""),i=w(""),b=w(""),E=w(""),h=w(""),f=w(""),v=w(""),g=w(""),j=w(""),N=Object(n.useState)(null),O=Object(p.a)(N,2),y=O[0],C=O[1],A=Object(n.useState)(!1),S=Object(p.a)(A,2),L=S[0],F=S[1];function B(){return(B=Object(m.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files,e.prev=1,(n=new FormData).append("file",a[0]),n.append("upload_preset","all_my_books"),e.next=7,d.a.post("https://api.cloudinary.com/v1_1/dxncdwsau/image/upload",n);case 7:r=e.sent,l=r.data.secure_url,console.log(l),C(l),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function P(){return(P=Object(m.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,I({title:a.value,authorFirstName:l.value,authorLastName:c.value,coAuthorFirstName:u.value,coAuthorLastName:o.value,publisher:i.value,published:b.value,edition:E.value,ISBN:h.value,publishPlace:f.value,pages:v.value,format:g.value,description:j.value,cover:y});case 3:t.push("/userhome");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"newbook"},r.a.createElement("h2",null,"Crea un nuevo libro"),r.a.createElement("form",{onSubmit:function(e){return P.apply(this,arguments)}},r.a.createElement("div",null,r.a.createElement("label",null,"T\xedtulo:"),r.a.createElement("input",Object.assign({autoFocus:!0,required:!0,type:"text",name:"title",id:"title",placeholder:"Frankenstein o el moderno Prometeo"},a))),r.a.createElement("div",{className:"author"},r.a.createElement("div",null,r.a.createElement("label",null,"Nombre del autor(a):"),r.a.createElement("input",Object.assign({type:"text",name:"author",id:"author",placeholder:"Mary"},l))),r.a.createElement("div",null,r.a.createElement("label",null,"Apellido del autor(a):"),r.a.createElement("input",Object.assign({type:"text",name:"author",id:"author",placeholder:"Shelley"},c)))),r.a.createElement("div",null,!L&&r.a.createElement("button",{onClick:function(){F(!L)}},r.a.createElement(k.a,{icon:x.j}),"\xa0\xa0Agrega otro autor(a)")),L&&r.a.createElement("div",{className:"author"},r.a.createElement("div",null,r.a.createElement("label",null,"Nombre del coautor(a):"),r.a.createElement("input",Object.assign({type:"text",name:"author",id:"author"},u))),r.a.createElement("div",null,r.a.createElement("label",null,"Apellido del coautor(a):"),r.a.createElement("input",Object.assign({type:"text",name:"author",id:"author"},o)))),r.a.createElement("div",{className:"author"},r.a.createElement("div",null,r.a.createElement("label",null,"Editorial:"),r.a.createElement("input",Object.assign({type:"text",name:"publisher",id:"publisher",placeholder:"Lackington, Hughes & Harding"},i))),r.a.createElement("div",null,r.a.createElement("label",null,"Edici\xf3n:"),r.a.createElement("input",Object.assign({type:"text",name:"edition",id:"edition",placeholder:"primera edici\xf3n"},E)))),r.a.createElement("div",{className:"author"},r.a.createElement("div",null,r.a.createElement("label",null,"A\xf1o de publicaci\xf3n:"),r.a.createElement("input",Object.assign({type:"text",name:"published",id:"published",placeholder:"1818"},b))),r.a.createElement("div",null,r.a.createElement("label",null,"Lugar de publicaci\xf3n:"),r.a.createElement("input",Object.assign({type:"text",name:"publishPlace",id:"publishPlace",placeholder:"Londres"},f)))),r.a.createElement("div",{className:"author"},r.a.createElement("div",null,r.a.createElement("label",null,"ISBN:"),r.a.createElement("input",Object.assign({placeholder:"000-0-00-000000-0",type:"text",name:"ISBN",id:"ISBN"},h))),r.a.createElement("div",null,r.a.createElement("label",null,"P\xe1ginas:"),r.a.createElement("input",Object.assign({type:"text",name:"pages",id:"pages",placeholder:"280"},v)))),r.a.createElement("div",{className:"uploadcover"},r.a.createElement("label",null,"Portada: "),r.a.createElement("div",null,r.a.createElement("label",{for:"apa"},"Selecciona la imagen por defecto"),r.a.createElement("input",{type:"checkbox",name:"reference",value:"apa",onChange:function(){C("https://res.cloudinary.com/dxncdwsau/image/upload/v1601179377/All%20My%20Books/All_My_Books_fwa6ma.jpg")}})),r.a.createElement("div",{className:"button-wrapper"},r.a.createElement("span",{className:"label"},"O agrega un archivo"),r.a.createElement("input",{onChange:function(e){return B.apply(this,arguments)},type:"file",name:"upload",id:"upload",className:"upload-box",placeholder:"Upload File"}))),r.a.createElement("div",null,r.a.createElement("label",null,"Formato:"),r.a.createElement("select",Object.assign({required:!0,name:"format"},g),r.a.createElement("option",{value:"",selected:!0},"Selecciona una opci\xf3n"),r.a.createElement("option",{value:"TAPA BLANDA"},"Tapa blanda"),r.a.createElement("option",{value:"TAPA DURA"},"Tapa dura"),r.a.createElement("option",{value:"EBOOK "},"Ebook"))),r.a.createElement("div",null,r.a.createElement("label",null,"Descripci\xf3n:"),r.a.createElement("textarea",Object.assign({type:"text",name:"description",id:"description",placeholder:"La novela narra la historia de V\xedctor Frankenstein, un estudiante de medicina en Ingolstadt, obsesionado por conocer \xablos secretos del cielo y la tierra\xbb."},j))),r.a.createElement("div",null,r.a.createElement("button",{disabled:!y,type:"submit"},r.a.createElement(k.a,{icon:x.c}),"\xa0Crear libro"))))};var se=function(){var e=Object(n.useState)(null),t=Object(p.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),u=Object(p.a)(c,2),o=u[0],i=u[1];function b(){return(b=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:t=e.sent,l(t.shelves.shelves);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){b.apply(this,arguments)}(),i(!1)}),[o]),r.a.createElement("div",{className:"configshelves"},r.a.createElement("h2",null,"Estantes:"),a?a.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("p",{key:t},e.name),r.a.createElement("button",{onClick:function(){var t;t=e._id,ce()({title:"Eliminar",text:"\xbfEst\xe1s seguro(a) de que quieres eliminar el estante?",buttons:{cancel:{text:"Cancelar",visible:!0,className:"cancelbtn"},confirm:{text:"Eliminar",className:"aceptbtn"}},className:"pushnotification"}).then((function(e){e&&(H(t),i(!0))}))}},r.a.createElement(k.a,{icon:x.n}),"\xa0Eliminar"))})):r.a.createElement("p",null,"A\xfan no tienes estantes"))};var me=function(){var e=Object(n.useContext)(N),t=e.user,a=e.setUserUpdate,l=w(null===t||void 0===t?void 0:t.username),c=w(null===t||void 0===t?void 0:t.email),o=Object(n.useState)(null===t||void 0===t?void 0:t.profilePhoto),i=Object(p.a)(o,2),b=i[0],E=i[1],h=Object(n.useState)(!1),f=Object(p.a)(h,2),v=f[0],j=f[1];function O(){j(!v)}function y(){return(y=Object(m.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files,(n=new FormData).append("file",a[0]),n.append("upload_preset","all_my_books"),e.next=6,d.a.post("https://api.cloudinary.com/v1_1/dxncdwsau/image/upload",n);case 6:r=e.sent,l=r.data.secure_url,E(l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g({username:l.value,email:c.value,profilePhoto:b});case 3:j(!1),a(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"bookDetailCard userProfile"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:null===t||void 0===t?void 0:t.profilePhoto,alt:"Profile"})),!v&&t?r.a.createElement("div",{className:"userinfo"},r.a.createElement("h2",null,t.username),r.a.createElement("h3",null,t.email),r.a.createElement("button",{onClick:O},r.a.createElement(k.a,{icon:x.g}),"\xa0",r.a.createElement(u.b,null,"Editar"))):r.a.createElement(r.a.Fragment,null),v&&t?r.a.createElement("form",{onSubmit:function(e){return C.apply(this,arguments)}},r.a.createElement("label",null,"Nombre de usuario: "),r.a.createElement("input",Object.assign({required:!0,type:"text",name:"username",id:"username"},l)),r.a.createElement("br",null),r.a.createElement("label",null,"Email: "),r.a.createElement("input",Object.assign({required:!0,type:"text",name:"email",id:"email"},c)),r.a.createElement("br",null),r.a.createElement("label",null,"Foto de perfil: "),r.a.createElement("input",{type:"file",onChange:function(e){return y.apply(this,arguments)}}),r.a.createElement("button",{type:"submit"},"Editar"),r.a.createElement("button",{onClick:O},"Cancelar")):r.a.createElement(r.a.Fragment,null)),r.a.createElement(se,null))},pe=a(39),be=function(e){var t=e.component,a=Object(pe.a)(e,["component"]),l=Object(n.useContext)(N).user;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return l?r.a.createElement(t,Object.assign({},a,e)):r.a.createElement(o.a,{to:"/"})}}))},de=function(){return r.a.createElement(u.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{component:F,path:"/",exact:!0}),r.a.createElement(y,null,r.a.createElement(be,{component:W,path:"/userhome",exact:!0}),r.a.createElement(be,{component:ie,path:"/newbook",exact:!0}),r.a.createElement(be,{component:oe,path:"/detailbook/:bookId",exact:!0}),r.a.createElement(be,{component:me,path:"/userconfig",exact:!0}))))};c.a.render(r.a.createElement(O,null,r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.95d6a548.chunk.js.map